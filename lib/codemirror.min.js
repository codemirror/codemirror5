window.CodeMirror=(function(){var bC=/gecko\/\d/i.test(navigator.userAgent),ct=/MSIE \d/.test(navigator.userAgent),bz=ct&&(document.documentMode==null||document.documentMode<8),by=ct&&(document.documentMode==null||document.documentMode<9),b2=/WebKit\//.test(navigator.userAgent),cw=b2&&/Qt\/\d+\.\d+/.test(navigator.userAgent),ca=/Chrome\//.test(navigator.userAgent),dO=/Opera\//.test(navigator.userAgent),ae=/Apple Computer/.test(navigator.vendor),aD=/KHTML\//.test(navigator.userAgent),bN=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),b7=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),dL=/PhantomJS/.test(navigator.userAgent),dm=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),cO=(function(eh){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(eh)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(eh.substr(0,4))){return true}else{return false}})(navigator.userAgent||navigator.vendor||window.opera),bl=dm||/Mac/.test(navigator.platform),am=/windows/i.test(navigator.platform),c0=dO&&navigator.userAgent.match(/Version\/(\d*\.\d*)/),bb,bR,ec=false,az=false;if(c0){c0=Number(c0[1])}if(c0&&c0>=15){dO=false;b2=true}bb=bl&&(cw||dO&&(c0==null||c0<12.11));bR=bC||(ct&&!by);function z(eh,ei){if(!(this instanceof z)){return new z(eh,ei)}this.options=ei=ei||{};for(var ej in dp){if(!ei.hasOwnProperty(ej)&&dp.hasOwnProperty(ej)){ei[ej]=dp[ej]}}bt(ei);var en=typeof ei.value=="string"?0:ei.value.first;var em=this.display=f(eh,en);em.wrapper.CodeMirror=this;cK(this);if(ei.autofocus&&!cO){c3(this)}this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,draggingText:false,highlight:new eg()};bW(this);if(ei.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}var el=ei.value;if(typeof el=="string"){el=new Y(ei.value,ei.mode)}b3(this,cJ)(this,el);if(ct){setTimeout(bI(dH,this,true),20)}d1(this);var eo;try{eo=(document.activeElement==em.input)}catch(ek){}if(eo||(ei.autofocus&&!cO)){setTimeout(bI(bM,this),20)}else{ar(this)}b3(this,function(){for(var eq in aG){if(aG.propertyIsEnumerable(eq)){aG[eq](this,ei[eq],br)}}for(var ep=0;ep<aA.length;++ep){aA[ep](this)}})()}function f(eh,ej){var ek={};var ei=ek.input=d6("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");if(b2){ei.style.width="1000px"}else{ei.setAttribute("wrap","off")}if(dm){ei.style.border="1px solid black"}ei.setAttribute("autocorrect","off");ei.setAttribute("autocapitalize","off");ei.setAttribute("spellcheck","false");ek.inputDiv=d6("div",[ei],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");ek.scrollbarH=d6("div",[d6("div",null,null,"height: 1px")],"CodeMirror-hscrollbar");ek.scrollbarV=d6("div",[d6("div",null,null,"width: 1px")],"CodeMirror-vscrollbar");ek.scrollbarFiller=d6("div",null,"CodeMirror-scrollbar-filler");ek.gutterFiller=d6("div",null,"CodeMirror-gutter-filler");ek.lineDiv=d6("div",null,"CodeMirror-code");ek.selectionDiv=d6("div",null,null,"position: relative; z-index: 1");ek.cursor=d6("div","\u00a0","CodeMirror-cursor");ek.otherCursor=d6("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor");ek.measure=d6("div",null,"CodeMirror-measure");ek.lineSpace=d6("div",[ek.measure,ek.selectionDiv,ek.lineDiv,ek.cursor,ek.otherCursor],null,"position: relative; outline: none");ek.mover=d6("div",[d6("div",[ek.lineSpace],"CodeMirror-lines")],null,"position: relative");ek.sizer=d6("div",[ek.mover],"CodeMirror-sizer");ek.heightForcer=d6("div",null,null,"position: absolute; height: "+aK+"px; width: 1px;");ek.gutters=d6("div",null,"CodeMirror-gutters");ek.lineGutter=null;ek.scroller=d6("div",[ek.sizer,ek.heightForcer,ek.gutters],"CodeMirror-scroll");ek.scroller.setAttribute("tabIndex","-1");ek.wrapper=d6("div",[ek.inputDiv,ek.scrollbarH,ek.scrollbarV,ek.scrollbarFiller,ek.gutterFiller,ek.scroller],"CodeMirror");if(bz){ek.gutters.style.zIndex=-1;ek.scroller.style.paddingRight=0}if(eh.appendChild){eh.appendChild(ek.wrapper)}else{eh(ek.wrapper)}if(dm){ei.style.width="0px"}if(!b2){ek.scroller.draggable=true}if(aD){ek.inputDiv.style.height="1px";ek.inputDiv.style.position="absolute"}else{if(bz){ek.scrollbarH.style.minWidth=ek.scrollbarV.style.minWidth="18px"}}ek.viewOffset=ek.lastSizeC=0;ek.showingFrom=ek.showingTo=ej;ek.lineNumWidth=ek.lineNumInnerWidth=ek.lineNumChars=null;ek.prevInput="";ek.alignWidgets=false;ek.pollingFast=false;ek.poll=new eg();ek.cachedCharWidth=ek.cachedTextHeight=null;ek.measureLineCache=[];ek.measureLineCachePos=0;ek.inaccurateSelection=false;ek.maxLine=null;ek.maxLineLength=0;ek.maxLineChanged=false;ek.wheelDX=ek.wheelDY=ek.wheelStartX=ek.wheelStartY=null;return ek}function aS(eh){eh.doc.mode=z.getMode(eh.options,eh.doc.modeOption);eh.doc.iter(function(ei){if(ei.stateAfter){ei.stateAfter=null}if(ei.styles){ei.styles=null}});eh.doc.frontier=eh.doc.first;cN(eh,100);eh.state.modeGen++;if(eh.curOp){O(eh)}}function db(eh){if(eh.options.lineWrapping){eh.display.wrapper.className+=" CodeMirror-wrap";eh.display.sizer.style.minWidth=""}else{eh.display.wrapper.className=eh.display.wrapper.className.replace(" CodeMirror-wrap","");d8(eh)}J(eh);O(eh);R(eh);setTimeout(function(){dk(eh)},100)}function aF(eh){var ej=au(eh.display),ei=eh.options.lineWrapping;var ek=ei&&Math.max(5,eh.display.scroller.clientWidth/cr(eh.display)-3);return function(el){if(dM(eh.doc,el)){return 0}else{if(ei){return(Math.ceil(el.text.length/ek)||1)*ej}else{return ej}}}}function J(eh){var ej=eh.doc,ei=aF(eh);ej.iter(function(ek){var el=ei(ek);if(el!=ek.height){ea(ek,el)}})}function ef(eh){var ej=dt[eh.options.keyMap],ei=ej.style;eh.display.wrapper.className=eh.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(ei?" cm-keymap-"+ei:"");eh.state.disableInput=ej.disableInput}function bW(eh){eh.display.wrapper.className=eh.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+eh.options.theme.replace(/(^|\s)\s*/g," cm-s-");R(eh)}function cm(eh){cK(eh);O(eh);setTimeout(function(){c7(eh)},20)}function cK(eh){var ei=eh.display.gutters,em=eh.options.gutters;cD(ei);for(var ej=0;ej<em.length;++ej){var ek=em[ej];var el=ei.appendChild(d6("div",null,"CodeMirror-gutter "+ek));if(ek=="CodeMirror-linenumbers"){eh.display.lineGutter=el;el.style.width=(eh.display.lineNumWidth||1)+"px"}}ei.style.display=ej?"":"none"}function cS(el,ej){if(ej.height==0){return 0}var ei=ej.text.length,eh,em=ej;while(eh=de(em)){var ek=eh.find();em=dw(el,ek.from.line);ei+=ek.from.ch-ek.to.ch}em=ej;while(eh=cX(em)){var ek=eh.find();ei-=em.text.length-ek.from.ch;em=dw(el,ek.to.line);ei+=em.text.length-ek.to.ch}return ei}function d8(eh){var ej=eh.display,ei=eh.doc;ej.maxLine=dw(ei,ei.first);ej.maxLineLength=cS(ei,ej.maxLine);ej.maxLineChanged=true;ei.iter(function(el){var ek=cS(ei,el);if(ek>ej.maxLineLength){ej.maxLineLength=ek;ej.maxLine=el}})}function bt(eh){var ej=false;for(var ei=0;ei<eh.gutters.length;++ei){if(eh.gutters[ei]=="CodeMirror-linenumbers"){if(eh.lineNumbers){ej=true}else{eh.gutters.splice(ei--,1)}}}if(!ej&&eh.lineNumbers){eh.gutters.push("CodeMirror-linenumbers")}}function dk(eh){var en=eh.display,ei=eh.doc.height;var ek=ei+a4(en);en.sizer.style.minHeight=en.heightForcer.style.top=ek+"px";en.gutters.style.height=Math.max(ek,en.scroller.clientHeight-aK)+"px";var el=Math.max(ek,en.scroller.scrollHeight);var em=en.scroller.scrollWidth>(en.scroller.clientWidth+1);var ej=el>(en.scroller.clientHeight+1);if(ej){en.scrollbarV.style.display="block";en.scrollbarV.style.bottom=em?i(en.measure)+"px":"0";en.scrollbarV.firstChild.style.height=(el-en.scroller.clientHeight+en.scrollbarV.clientHeight)+"px"}else{en.scrollbarV.style.display="";en.scrollbarV.firstChild.style.height="0"}if(em){en.scrollbarH.style.display="block";en.scrollbarH.style.right=ej?i(en.measure)+"px":"0";en.scrollbarH.firstChild.style.width=(en.scroller.scrollWidth-en.scroller.clientWidth+en.scrollbarH.clientWidth)+"px"}else{en.scrollbarH.style.display="";en.scrollbarH.firstChild.style.width="0"}if(em&&ej){en.scrollbarFiller.style.display="block";en.scrollbarFiller.style.height=en.scrollbarFiller.style.width=i(en.measure)+"px"}else{en.scrollbarFiller.style.display=""}if(em&&eh.options.coverGutterNextToScrollbar&&eh.options.fixedGutter){en.gutterFiller.style.display="block";en.gutterFiller.style.height=i(en.measure)+"px";en.gutterFiller.style.width=en.gutters.offsetWidth+"px"}else{en.gutterFiller.style.display=""}if(bN&&i(en.measure)===0){en.scrollbarV.style.minWidth=en.scrollbarH.style.minHeight=b7?"18px":"12px"}}function bk(em,el,ek){var ej=em.scroller.scrollTop,eh=em.wrapper.clientHeight;if(typeof ek=="number"){ej=ek}else{if(ek){ej=ek.top;eh=ek.bottom-ek.top}}ej=Math.floor(ej-dr(em));var ei=Math.ceil(ej+eh);return{from:a2(el,ej),to:a2(el,ei)}}function c7(eh){var en=eh.display;if(!en.alignWidgets&&(!en.gutters.firstChild||!eh.options.fixedGutter)){return}var ek=cC(en)-en.scroller.scrollLeft+eh.doc.scrollLeft;var em=en.gutters.offsetWidth,ej=ek+"px";for(var eo=en.lineDiv.firstChild;eo;eo=eo.nextSibling){if(eo.alignable){for(var el=0,ei=eo.alignable;el<ei.length;++el){ei[el].style.left=ej}}}if(eh.options.fixedGutter){en.gutters.style.left=(ek+em)+"px"}}function cF(eh){if(!eh.options.lineNumbers){return false}var em=eh.doc,ei=cV(eh.options,em.first+em.size-1),el=eh.display;if(ei.length!=el.lineNumChars){var en=el.measure.appendChild(d6("div",[d6("div",ei)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var ej=en.firstChild.offsetWidth,ek=en.offsetWidth-ej;el.lineGutter.style.width="";el.lineNumInnerWidth=Math.max(ej,el.lineGutter.offsetWidth-ek);el.lineNumWidth=el.lineNumInnerWidth+ek;el.lineNumChars=el.lineNumInnerWidth?ei.length:-1;el.lineGutter.style.width=el.lineNumWidth+"px";return true}return false}function cV(eh,ei){return String(eh.lineNumberFormatter(ei+eh.firstLineNumber))}function cC(eh){return al(eh.scroller).left-al(eh.sizer).left}function cu(eh,ek,em,el){var ej=eh.display.showingFrom,eo=eh.display.showingTo,ei;var en=bk(eh.display,eh.doc,em);for(;;){if(!cd(eh,ek,en,el)){break}el=false;ei=true;aZ(eh);dk(eh);if(em){em=Math.min(eh.display.scroller.scrollHeight-eh.display.scroller.clientHeight,typeof em=="number"?em:em.top)}en=bk(eh.display,eh.doc,em);if(en.from>=eh.display.showingFrom&&en.to<=eh.display.showingTo){break}ek=[]}if(ei){M(eh,"update",eh);if(eh.display.showingFrom!=ej||eh.display.showingTo!=eo){M(eh,"viewportChange",eh,eh.display.showingFrom,eh.display.showingTo)}}return ei}function cd(el,ez,ei,ex){var er=el.display,eA=el.doc;if(!er.wrapper.clientWidth){er.showingFrom=er.showingTo=eA.first;er.viewOffset=0;return}if(!ex&&ez.length==0&&ei.from>er.showingFrom&&ei.to<er.showingTo){return}if(cF(el)){ez=[{from:eA.first,to:eA.first+eA.size}]}var ew=er.sizer.style.marginLeft=er.gutters.offsetWidth+"px";er.scrollbarH.style.left=el.options.fixedGutter?ew:"0";var ej=Infinity;if(el.options.lineNumbers){for(var es=0;es<ez.length;++es){if(ez[es].diff&&ez[es].from<ej){ej=ez[es].from}}}var ek=eA.first+eA.size;var eq=Math.max(ei.from-el.options.viewportMargin,eA.first);var eh=Math.min(ek,ei.to+el.options.viewportMargin);if(er.showingFrom<eq&&eq-er.showingFrom<20){eq=Math.max(eA.first,er.showingFrom)}if(er.showingTo>eh&&er.showingTo-eh<20){eh=Math.min(ek,er.showingTo)}if(az){eq=a9(t(eA,dw(eA,eq)));while(eh<ek&&dM(eA,dw(eA,eh))){++eh}}var eu=[{from:Math.max(er.showingFrom,eA.first),to:Math.min(er.showingTo,ek)}];if(eu[0].from>=eu[0].to){eu=[]}else{eu=dG(eu,ez)}if(az){for(var es=0;es<eu.length;++es){var en=eu[es],ev;while(ev=cX(dw(eA,en.to-1))){var ey=ev.find().from.line;if(ey>en.from){en.to=ey}else{eu.splice(es--,1);break}}}}var ep=0;for(var es=0;es<eu.length;++es){var en=eu[es];if(en.from<eq){en.from=eq}if(en.to>eh){en.to=eh}if(en.from>=en.to){eu.splice(es--,1)}else{ep+=en.to-en.from}}if(!ex&&ep==eh-eq&&eq==er.showingFrom&&eh==er.showingTo){h(el);return}eu.sort(function(eC,eB){return eC.from-eB.from});try{var em=document.activeElement}catch(et){}if(ep<(eh-eq)*0.7){er.lineDiv.style.display="none"}bA(el,eq,eh,eu,ej);er.lineDiv.style.display="";if(em&&document.activeElement!=em&&em.offsetHeight){em.focus()}var eo=eq!=er.showingFrom||eh!=er.showingTo||er.lastSizeC!=er.wrapper.clientHeight;if(eo){er.lastSizeC=er.wrapper.clientHeight;cN(el,400)}er.showingFrom=eq;er.showingTo=eh;aB(el);h(el);return true}function aB(ep){var em=ep.display;var ei=em.lineDiv.offsetTop;for(var eh=em.lineDiv.firstChild,eq;eh;eh=eh.nextSibling){if(eh.lineObj){if(bz){var el=eh.offsetTop+eh.offsetHeight;eq=el-ei;ei=el}else{var ek=al(eh);eq=ek.bottom-ek.top}var eo=eh.lineObj.height-eq;if(eq<2){eq=au(em)}if(eo>0.001||eo<-0.001){ea(eh.lineObj,eq);var en=eh.lineObj.widgets;if(en){for(var ej=0;ej<en.length;++ej){en[ej].height=en[ej].node.offsetHeight}}}}}}function h(eh){var ei=eh.display.viewOffset=a8(eh,dw(eh.doc,eh.display.showingFrom));eh.display.mover.style.top=ei+"px"}function dG(eq,eo){for(var el=0,ej=eo.length||0;el<ej;++el){var en=eo[el],eh=[],ep=en.diff||0;for(var ek=0,ei=eq.length;ek<ei;++ek){var em=eq[ek];if(en.to<=em.from&&en.diff){eh.push({from:em.from+ep,to:em.to+ep})}else{if(en.to<=em.from||en.from>=em.to){eh.push(em)}else{if(en.from>em.from){eh.push({from:em.from,to:en.from})}if(en.to<em.to){eh.push({from:en.to+ep,to:em.to+ep})}}}}eq=eh}return eq}function du(eh){var el=eh.display,ek={},ej={};for(var em=el.gutters.firstChild,ei=0;em;em=em.nextSibling,++ei){ek[eh.options.gutters[ei]]=em.offsetLeft;ej[eh.options.gutters[ei]]=em.offsetWidth}return{fixedPos:cC(el),gutterTotalWidth:el.gutters.offsetWidth,gutterLeft:ek,gutterWidth:ej,wrapperWidth:el.wrapper.clientWidth}}function bA(eq,en,eo,et,ei){var ep=du(eq);var em=eq.display,es=eq.options.lineNumbers;if(!et.length&&(!b2||!eq.display.currentWheelTarget)){cD(em.lineDiv)}var eh=em.lineDiv,er=eh.firstChild;function el(ev){var eu=ev.nextSibling;if(b2&&bl&&eq.display.currentWheelTarget==ev){ev.style.display="none";ev.lineObj=null}else{ev.parentNode.removeChild(ev)}return eu}var ej=et.shift(),ek=en;eq.doc.iter(en,eo,function(eD){if(ej&&ej.to==ek){ej=et.shift()}if(dM(eq.doc,eD)){if(eD.height!=0){ea(eD,0)}if(eD.widgets&&er.previousSibling){for(var ey=0;ey<eD.widgets.length;++ey){var eA=eD.widgets[ey];if(eA.showIfHidden){var ew=er.previousSibling;if(/pre/i.test(ew.nodeName)){var ev=d6("div",null,null,"position: relative");ew.parentNode.replaceChild(ev,ew);ev.appendChild(ew);ew=ev}var eB=ew.appendChild(d6("div",[eA.node],"CodeMirror-linewidget"));if(!eA.handleMouseEvents){eB.ignoreEvents=true}a1(eA,eB,ew,ep)}}}}else{if(ej&&ej.from<=ek&&ej.to>ek){while(er.lineObj!=eD){er=el(er)}if(es&&ei<=ek&&er.lineNumber){n(er.lineNumber,cV(eq.options,ek))}er=er.nextSibling}else{if(eD.widgets){for(var ex=0,eC=er,ez;eC&&ex<20;++ex,eC=eC.nextSibling){if(eC.lineObj==eD&&/div/i.test(eC.nodeName)){ez=eC;break}}}var eu=ag(eq,eD,ek,ep,ez);if(eu!=ez){eh.insertBefore(eu,er)}else{while(er!=ez){er=el(er)}er=er.nextSibling}eu.lineObj=eD}}++ek});while(er){er=el(er)}}function ag(em,eo,ep,es,ei){var ey=cx(em,eo);var eB=eo.gutterMarkers,ez=em.display,en;if(!em.options.lineNumbers&&!eB&&!eo.bgClass&&!eo.wrapClass&&!eo.widgets){return ey}if(ei){ei.alignable=null;var eC=true,ek=0,ej=null;for(var eu=ei.firstChild,et;eu;eu=et){et=eu.nextSibling;if(!/\bCodeMirror-linewidget\b/.test(eu.className)){ei.removeChild(eu)}else{for(var eA=0;eA<eo.widgets.length;++eA){var el=eo.widgets[eA];if(el.node==eu.firstChild){if(!el.above&&!ej){ej=eu}a1(el,eu,ei,es);++ek;break}}if(eA==eo.widgets.length){eC=false;break}}}ei.insertBefore(ey,ej);if(eC&&ek==eo.widgets.length){en=ei;ei.className=eo.wrapClass||""}}if(!en){en=d6("div",null,eo.wrapClass,"position: relative");en.appendChild(ey)}if(eo.bgClass){en.insertBefore(d6("div",null,eo.bgClass+" CodeMirror-linebackground"),en.firstChild)}if(em.options.lineNumbers||eB){var ew=en.insertBefore(d6("div",null,null,"position: absolute; left: "+(em.options.fixedGutter?es.fixedPos:-es.gutterTotalWidth)+"px"),en.firstChild);if(em.options.fixedGutter){(en.alignable||(en.alignable=[])).push(ew)}if(em.options.lineNumbers&&(!eB||!eB["CodeMirror-linenumbers"])){en.lineNumber=ew.appendChild(d6("div",cV(em.options,ep),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+es.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+ez.lineNumInnerWidth+"px"))}if(eB){for(var ex=0;ex<em.options.gutters.length;++ex){var er=em.options.gutters[ex],eq=eB.hasOwnProperty(er)&&eB[er];if(eq){ew.appendChild(d6("div",[eq],"CodeMirror-gutter-elt","left: "+es.gutterLeft[er]+"px; width: "+es.gutterWidth[er]+"px"))}}}}if(bz){en.style.zIndex=2}if(eo.widgets&&en!=ei){for(var eA=0,eh=eo.widgets;eA<eh.length;++eA){var el=eh[eA],ev=d6("div",[el.node],"CodeMirror-linewidget");if(!el.handleMouseEvents){ev.ignoreEvents=true}a1(el,ev,en,es);if(el.above){en.insertBefore(ev,em.options.lineNumbers&&eo.height!=0?ew:ey)}else{en.appendChild(ev)}M(el,"redraw")}}return en}function a1(ek,ej,ei,el){if(ek.noHScroll){(ei.alignable||(ei.alignable=[])).push(ej);var eh=el.wrapperWidth;ej.style.left=el.fixedPos+"px";if(!ek.coverGutter){eh-=el.gutterTotalWidth;ej.style.paddingLeft=el.gutterTotalWidth+"px"}ej.style.width=eh+"px"}if(ek.coverGutter){ej.style.zIndex=5;ej.style.position="relative";if(!ek.noHScroll){ej.style.marginLeft=-el.gutterTotalWidth+"px"}}}function aZ(eh){var ek=eh.display;var el=dV(eh.doc.sel.from,eh.doc.sel.to);if(el||eh.options.showCursorWhenSelecting){A(eh)}else{ek.cursor.style.display=ek.otherCursor.style.display="none"}if(!el){T(eh)}else{ek.selectionDiv.style.display="none"}if(eh.options.moveInputWithCursor){var em=cA(eh,eh.doc.sel.head,"div");var ei=al(ek.wrapper),ej=al(ek.lineDiv);ek.inputDiv.style.top=Math.max(0,Math.min(ek.wrapper.clientHeight-10,em.top+ej.top-ei.top))+"px";ek.inputDiv.style.left=Math.max(0,Math.min(ek.wrapper.clientWidth-10,em.left+ej.left-ei.left))+"px"}}function A(eh){var ei=eh.display,ej=cA(eh,eh.doc.sel.head,"div");ei.cursor.style.left=ej.left+"px";ei.cursor.style.top=ej.top+"px";ei.cursor.style.height=Math.max(0,ej.bottom-ej.top)*eh.options.cursorHeight+"px";ei.cursor.style.display="";if(ej.other){ei.otherCursor.style.display="";ei.otherCursor.style.left=ej.other.left+"px";ei.otherCursor.style.top=ej.other.top+"px";ei.otherCursor.style.height=(ej.other.bottom-ej.other.top)*0.85+"px"}else{ei.otherCursor.style.display="none"}}function T(es){var en=es.display,er=es.doc,eh=es.doc.sel;var el=document.createDocumentFragment();var eq=en.lineSpace.offsetWidth,ej=at(es.display);function eu(ey,ex,ew,ev){if(ex<0){ex=0}el.appendChild(d6("div",null,"CodeMirror-selected","position: absolute; left: "+ey+"px; top: "+ex+"px; width: "+(ew==null?eq-ey:ew)+"px; height: "+(ev-ex)+"px"))}function ep(ew,ey,eB){var ex=dw(er,ew);var ez=ex.text.length;var eC,ev;function eA(eE,eD){return bT(es,I(ew,eE),"div",ex,eD)}cE(a(ex),ey||0,eB==null?ez:eB,function(eK,eJ,eD){var eG=eA(eK,"left"),eH,eI,eF;if(eK==eJ){eH=eG;eI=eF=eG.left}else{eH=eA(eJ-1,"right");if(eD=="rtl"){var eE=eG;eG=eH;eH=eE}eI=eG.left;eF=eH.right}if(ey==null&&eK==0){eI=ej}if(eH.top-eG.top>3){eu(eI,eG.top,null,eG.bottom);eI=ej;if(eG.bottom<eH.top){eu(eI,eG.bottom,null,eH.top)}}if(eB==null&&eJ==ez){eF=eq}if(!eC||eG.top<eC.top||eG.top==eC.top&&eG.left<eC.left){eC=eG}if(!ev||eH.bottom>ev.bottom||eH.bottom==ev.bottom&&eH.right>ev.right){ev=eH}if(eI<ej+1){eI=ej}eu(eI,eH.top,eF-eI,eH.bottom)});return{start:eC,end:ev}}if(eh.from.line==eh.to.line){ep(eh.from.line,eh.from.ch,eh.to.ch)}else{var ek=dw(er,eh.from.line),ei=dw(er,eh.to.line);var em=t(er,ek)==t(er,ei);var et=ep(eh.from.line,eh.from.ch,em?ek.text.length:null).end;var eo=ep(eh.to.line,em?0:null,eh.to.ch).start;if(em){if(et.top<eo.top-2){eu(et.right,et.top,null,et.bottom);eu(ej,eo.top,eo.left,eo.bottom)}else{eu(et.right,et.top,eo.left-et.right,et.bottom)}}if(et.bottom<eo.top){eu(ej,et.bottom,null,eo.top)}}bd(en.selectionDiv,el);en.selectionDiv.style.display=""}function l(eh){if(!eh.state.focused){return}var ej=eh.display;clearInterval(ej.blinker);var ei=true;ej.cursor.style.visibility=ej.otherCursor.style.visibility="";ej.blinker=setInterval(function(){ej.cursor.style.visibility=ej.otherCursor.style.visibility=(ei=!ei)?"":"hidden"},eh.options.cursorBlinkRate)}function cN(eh,ei){if(eh.doc.mode.startState&&eh.doc.frontier<eh.display.showingTo){eh.state.highlight.set(ei,bI(bX,eh))}}function bX(eh){var ek=eh.doc;if(ek.frontier<ek.first){ek.frontier=ek.first}if(ek.frontier>=eh.display.showingTo){return}var ei=+new Date+eh.options.workTime;var ej=bj(ek.mode,cp(eh,ek.frontier));var em=[],el;ek.iter(ek.frontier,Math.min(ek.first+ek.size,eh.display.showingTo+500),function(en){if(ek.frontier>=eh.display.showingFrom){var ep=en.styles;en.styles=dR(eh,en,ej);var eq=!ep||ep.length!=en.styles.length;for(var eo=0;!eq&&eo<ep.length;++eo){eq=ep[eo]!=en.styles[eo]}if(eq){if(el&&el.end==ek.frontier){el.end++}else{em.push(el={start:ek.frontier,end:ek.frontier+1})}}en.stateAfter=bj(ek.mode,ej)}else{cn(eh,en,ej);en.stateAfter=ek.frontier%5==0?bj(ek.mode,ej):null}++ek.frontier;if(+new Date>ei){cN(eh,eh.options.workDelay);return true}});if(em.length){b3(eh,function(){for(var en=0;en<em.length;++en){O(this,em[en].start,em[en].end)}})()}}function bK(eo,ei,ek){var ej,el,em=eo.doc,en=eo.doc.mode.innerMode?1000:100;for(var er=ei,eh=ei-en;er>eh;--er){if(er<=em.first){return em.first}var eq=dw(em,er-1);if(eq.stateAfter&&(!ek||er<=em.frontier)){return er}var ep=bc(eq.text,null,eo.options.tabSize);if(el==null||ej>ep){el=er-1;ej=ep}}return el}function cp(eh,en,ei){var el=eh.doc,ek=eh.display;if(!el.mode.startState){return true}var em=bK(eh,en,ei),ej=em>el.first&&dw(el,em-1).stateAfter;if(!ej){ej=bi(el.mode)}else{ej=bj(el.mode,ej)}el.iter(em,en,function(eo){cn(eh,eo,ej);var ep=em==en-1||em%5==0||em>=ek.showingFrom&&em<ek.showingTo;eo.stateAfter=ep?bj(el.mode,ej):null;++em});return ej}function dr(eh){return eh.lineSpace.offsetTop}function a4(eh){return eh.mover.offsetHeight-eh.lineSpace.offsetHeight}function at(ei){var eh=bd(ei.measure,d6("pre",null,null,"text-align: left")).appendChild(d6("span","x"));return eh.offsetLeft}function cP(eh,ei,el,en,ej){var ek=-1;en=en||a5(eh,ei);for(var eo=el;;eo+=ek){var em=en[eo];if(em){break}if(ek<0&&eo==0){ek=1}}ej=eo>el?"left":eo<el?"right":ej;if(ej=="left"&&em.leftSide){em=em.leftSide}else{if(ej=="right"&&em.rightSide){em=em.rightSide}}return{left:eo<el?em.right:em.left,right:eo>el?em.left:em.right,top:em.top,bottom:em.bottom}}function dq(eh,ei){var ek=eh.display.measureLineCache;for(var el=0;el<ek.length;++el){var ej=ek[el];if(ej.text==ei.text&&ej.markedSpans==ei.markedSpans&&eh.display.scroller.clientWidth==ej.width&&ej.classes==ei.textClass+"|"+ei.bgClass+"|"+ei.wrapClass){return ej}}}function dZ(eh,ei){var ej=dq(eh,ei);if(ej){ej.text=ej.measure=ej.markedSpans=null}}function a5(eh,ei){var em=dq(eh,ei);if(em){return em.measure}var el=cc(eh,ei);var ek=eh.display.measureLineCache;var ej={text:ei.text,width:eh.display.scroller.clientWidth,markedSpans:ei.markedSpans,measure:el,classes:ei.textClass+"|"+ei.bgClass+"|"+ei.wrapClass};if(ek.length==16){ek[++eh.display.measureLineCachePos%16]=ej}else{ek.push(ej)}return el}function cc(eo,eq){var ew=eo.display,em=S(eq.text.length);var et=cx(eo,eq,em,true);if(ct&&!bz&&!eo.options.lineWrapping&&et.childNodes.length>100){var ej=document.createDocumentFragment();var er=10,eu=et.childNodes.length;for(var ey=0,es=Math.ceil(eu/er);ey<es;++ey){var ep=d6("div",null,null,"display: inline-block");for(var ex=0;ex<er&&eu;++ex){ep.appendChild(et.firstChild);--eu}ej.appendChild(ep)}et.appendChild(ej)}bd(ew.measure,et);var ei=al(ew.lineDiv);var eh=[],eB=S(eq.text.length),eA=et.offsetHeight;if(by&&ew.measure.first!=et){bd(ew.measure,et)}function ez(eE){var eG=eE.top-ei.top,eI=eE.bottom-ei.top;if(eI>eA){eI=eA}if(eG<0){eG=0}for(var eD=eh.length-2;eD>=0;eD-=2){var eF=eh[eD],eH=eh[eD+1];if(eF>eI||eH<eG){continue}if(eF<=eG&&eH>=eI||eG<=eF&&eI>=eH||Math.min(eI,eH)-Math.max(eG,eF)>=(eI-eG)>>1){eh[eD]=Math.min(eG,eF);eh[eD+1]=Math.max(eI,eH);break}}if(eD<0){eD=eh.length;eh.push(eG,eI)}return{left:eE.left-ei.left,right:eE.right-ei.left,top:eD,bottom:null}}function eC(eD){eD.bottom=eh[eD.top+1];eD.top=eh[eD.top]}for(var ey=0,el;ey<em.length;++ey){if(el=em[ey]){var ev=el,ek=null;if(/\bCodeMirror-widget\b/.test(el.className)&&el.getClientRects){if(el.firstChild.nodeType==1){ev=el.firstChild}var en=ev.getClientRects();if(en.length>1){ek=eB[ey]=ez(en[0]);ek.rightSide=ez(en[en.length-1])}}if(!ek){ek=eB[ey]=ez(al(ev))}if(el.measureRight){ek.right=al(el.measureRight).left}if(el.leftSide){ek.leftSide=ez(al(el.leftSide))}}}cD(eo.display.measure);for(var ey=0,el;ey<eB.length;++ey){if(el=eB[ey]){eC(el);if(el.leftSide){eC(el.leftSide)}if(el.rightSide){eC(el.rightSide)}}}return eB}function c8(eh,ej){var eo=false;if(ej.markedSpans){for(var ek=0;ek<ej.markedSpans;++ek){var em=ej.markedSpans[ek];if(em.collapsed&&(em.to==null||em.to==ej.text.length)){eo=true}}}var el=!eo&&dq(eh,ej);if(el){return cP(eh,ej,ej.text.length,el.measure,"right").right}var en=cx(eh,ej,null,true);var ei=en.appendChild(aP(eh.display.measure));bd(eh.display.measure,en);return al(ei).right-al(eh.display.lineDiv).left}function R(eh){eh.display.measureLineCache.length=eh.display.measureLineCachePos=0;eh.display.cachedCharWidth=eh.display.cachedTextHeight=null;if(!eh.options.lineWrapping){eh.display.maxLineChanged=true}eh.display.lineNumChars=null}function bH(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function bG(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function df(en,ek,em,ei){if(ek.widgets){for(var ej=0;ej<ek.widgets.length;++ej){if(ek.widgets[ej].above){var ep=b0(ek.widgets[ej]);em.top+=ep;em.bottom+=ep}}}if(ei=="line"){return em}if(!ei){ei="local"}var el=a8(en,ek);if(ei=="local"){el+=dr(en.display)}else{el-=en.display.viewOffset}if(ei=="page"||ei=="window"){var eh=al(en.display.lineSpace);el+=eh.top+(ei=="window"?0:bG());var eo=eh.left+(ei=="window"?0:bH());em.left+=eo;em.right+=eo}em.top+=el;em.bottom+=el;return em}function ee(ei,el,ej){if(ej=="div"){return el}var en=el.left,em=el.top;if(ej=="page"){en-=bH();em-=bG()}else{if(ej=="local"||!ej){var ek=al(ei.display.sizer);en+=ek.left;em+=ek.top}}var eh=al(ei.display.lineSpace);return{left:en-eh.left,top:em-eh.top}}function bT(eh,el,ek,ej,ei){if(!ej){ej=dw(eh.doc,el.line)}return df(eh,ej,cP(eh,ej,el.ch,null,ei),ek)}function cA(eq,ep,ej,eo,em){eo=eo||dw(eq.doc,ep.line);if(!em){em=a5(eq,eo)}function el(eu,et){var es=cP(eq,eo,eu,em,et?"right":"left");if(et){es.left=es.right}else{es.right=es.left}return df(eq,eo,es,ej)}function er(ev,es){var et=en[es],eu=et.level%2;if(ev==co(et)&&es&&et.level<en[es-1].level){et=en[--es];ev=ed(et)-(et.level%2?0:1);eu=true}else{if(ev==ed(et)&&es<en.length-1&&et.level<en[es+1].level){et=en[++es];ev=co(et)-et.level%2;eu=false}}if(eu&&ev==et.to&&ev>et.from){return el(ev-1)}return el(ev,eu)}var en=a(eo),eh=ep.ch;if(!en){return el(eh)}var ei=ah(en,eh);var ek=er(eh,ei);if(dn!=null){ek.other=er(eh,dn)}return ek}function d5(eh,ei,ej,el){var ek=new I(eh,ei);ek.xRel=el;if(ej){ek.outside=true}return ek}function d0(eo,el,ek){var en=eo.doc;ek+=eo.display.viewOffset;if(ek<0){return d5(en.first,0,true,-1)}var ei=a2(en,ek),ep=en.first+en.size-1;if(ei>ep){return d5(en.first+en.size-1,dw(en,ep).text.length,true,1)}if(el<0){el=0}for(;;){var ej=dw(en,ei);var eq=b1(eo,ej,ei,el,ek);var em=cX(ej);var eh=em&&em.find();if(em&&(eq.ch>eh.from.ch||eq.ch==eh.from.ch&&eq.xRel>0)){ei=eh.to.line}else{return eq}}}function b1(er,ej,eu,et,es){var eq=es-a8(er,ej);var en=false,eA=2*er.display.wrapper.clientWidth;var ez=a5(er,ej);function eE(eG){var eH=cA(er,I(eu,eG),"line",ej,ez);en=true;if(eq>eH.bottom){return eH.left-eA}else{if(eq<eH.top){return eH.left+eA}else{en=false}}return eH.left}var ew=a(ej),ey=ej.text.length;var eB=bO(ej),ek=bY(ej);var ex=eE(eB),eh=en,ei=eE(ek),em=en;if(et>ei){return d5(eu,ek,em,1)}for(;;){if(ew?ek==eB||ek==q(ej,eB,1):ek-eB<=1){var ev=et<ex||et-ex<=ei-et?eB:ek;var eD=et-(ev==eB?ex:ei);while(dI.test(ej.text.charAt(ev))){++ev}var ep=d5(eu,ev,ev==eB?eh:em,eD<0?-1:eD?1:0);return ep}var eo=Math.ceil(ey/2),eF=eB+eo;if(ew){eF=eB;for(var eC=0;eC<eo;++eC){eF=q(ej,eF,1)}}var el=eE(eF);if(el>et){ek=eF;ei=el;if(em=en){ei+=1000}ey=eo}else{eB=eF;ex=el;eh=en;ey-=eo}}}var ai;function au(ej){if(ej.cachedTextHeight!=null){return ej.cachedTextHeight}if(ai==null){ai=d6("pre");for(var ei=0;ei<49;++ei){ai.appendChild(document.createTextNode("x"));ai.appendChild(d6("br"))}ai.appendChild(document.createTextNode("x"))}bd(ej.measure,ai);var eh=ai.offsetHeight/50;if(eh>3){ej.cachedTextHeight=eh}cD(ej.measure);return eh||1}function cr(ek){if(ek.cachedCharWidth!=null){return ek.cachedCharWidth}var eh=d6("span","x");var ej=d6("pre",[eh]);bd(ek.measure,ej);var ei=eh.offsetWidth;if(ei>2){ek.cachedCharWidth=ei}return ei||10}var cH=0;function bS(eh){eh.curOp={changes:[],forceUpdate:false,updateInput:null,userSelChange:null,textChanged:null,selectionChanged:false,cursorActivity:false,updateMaxLine:false,updateScrollPos:false,id:++cH};if(!bF++){aO=[]}}function U(et){var eo=et.curOp,es=et.doc,ep=et.display;et.curOp=null;if(eo.updateMaxLine){d8(et)}if(ep.maxLineChanged&&!et.options.lineWrapping&&ep.maxLine){var ei=c8(et,ep.maxLine);ep.sizer.style.minWidth=Math.max(0,ei+3+aK)+"px";ep.maxLineChanged=false;var eq=Math.max(0,ep.sizer.offsetLeft+ep.sizer.offsetWidth-ep.scroller.clientWidth);if(eq<es.scrollLeft&&!eo.updateScrollPos){a0(et,Math.min(ep.scroller.scrollLeft,eq),true)}}var ej,em;if(eo.updateScrollPos){ej=eo.updateScrollPos}else{if(eo.selectionChanged&&ep.scroller.clientHeight){var er=cA(et,es.sel.head);ej=y(et,er.left,er.top,er.left,er.bottom)}}if(eo.changes.length||eo.forceUpdate||ej&&ej.scrollTop!=null){em=cu(et,eo.changes,ej&&ej.scrollTop,eo.forceUpdate);if(et.display.scroller.offsetHeight){et.doc.scrollTop=et.display.scroller.scrollTop}}if(!em&&eo.selectionChanged){aZ(et)}if(eo.updateScrollPos){ep.scroller.scrollTop=ep.scrollbarV.scrollTop=es.scrollTop=ej.scrollTop;ep.scroller.scrollLeft=ep.scrollbarH.scrollLeft=es.scrollLeft=ej.scrollLeft;c7(et);if(eo.scrollToPos){v(et,dW(et.doc,eo.scrollToPos),eo.scrollToPosMargin)}}else{if(ej){ac(et)}}if(eo.selectionChanged){l(et)}if(et.state.focused&&eo.updateInput){dH(et,eo.userSelChange)}var en=eo.maybeHiddenMarkers,eh=eo.maybeUnhiddenMarkers;if(en){for(var el=0;el<en.length;++el){if(!en[el].lines.length){af(en[el],"hide")}}}if(eh){for(var el=0;el<eh.length;++el){if(eh[el].lines.length){af(eh[el],"unhide")}}}var ek;if(!--bF){ek=aO;aO=null}if(eo.textChanged){af(et,"change",et,eo.textChanged)}if(eo.cursorActivity){af(et,"cursorActivity",et)}if(ek){for(var el=0;el<ek.length;++el){ek[el]()}}}function b3(eh,ei){return function(){var ek=eh||this,el=!ek.curOp;if(el){bS(ek)}try{var ej=ei.apply(ek,arguments)}finally{if(el){U(ek)}}return ej}}function dQ(eh){return function(){var ej=this.cm&&!this.cm.curOp,ei;if(ej){bS(this.cm)}try{ei=eh.apply(this,arguments)}finally{if(ej){U(this.cm)}}return ei}}function bV(ei,ek){var ej=!ei.curOp,eh;if(ej){bS(ei)}try{eh=ek()}finally{if(ej){U(ei)}}return eh}function O(eh,ek,ej,ei){if(ek==null){ek=eh.doc.first}if(ej==null){ej=eh.doc.first+eh.doc.size}eh.curOp.changes.push({from:ek,to:ej,diff:ei})}function aN(eh){if(eh.display.pollingFast){return}eh.display.poll.set(eh.options.pollInterval,function(){bv(eh);if(eh.state.focused){aN(eh)}})}function u(eh){var ei=false;eh.display.pollingFast=true;function ej(){var ek=bv(eh);if(!ek&&!ei){ei=true;eh.display.poll.set(60,ej)}else{eh.display.pollingFast=false;aN(eh)}}eh.display.poll.set(20,ej)}function bv(es){var en=es.display.input,ek=es.display.prevInput,er=es.doc,eh=er.sel;if(!es.state.focused||aT(en)||Q(es)||es.state.disableInput){return false}if(es.state.pasteIncoming&&es.state.fakedLastChar){en.value=en.value.substring(0,en.value.length-1);es.state.fakedLastChar=false}var et=en.value;if(et==ek&&dV(eh.from,eh.to)){return false}if(ct&&!by&&es.display.inputHasSelection===et){dH(es,true);return false}var ej=!es.curOp;if(ej){bS(es)}eh.shift=false;var em=0,ei=Math.min(ek.length,et.length);while(em<ei&&ek.charCodeAt(em)==et.charCodeAt(em)){++em}var eq=eh.from,ep=eh.to;if(em<ek.length){eq=I(eq.line,eq.ch-(ek.length-em))}else{if(es.state.overwrite&&dV(eq,ep)&&!es.state.pasteIncoming){ep=I(ep.line,Math.min(dw(er,ep.line).text.length,ep.ch+(et.length-em)))}}var el=es.curOp.updateInput;var eo={from:eq,to:ep,text:aw(et.slice(em)),origin:es.state.pasteIncoming?"paste":"+input"};aH(es.doc,eo,"end");es.curOp.updateInput=el;M(es,"inputRead",es,eo);if(et.length>1000||et.indexOf("\n")>-1){en.value=es.display.prevInput=""}else{es.display.prevInput=et}if(ej){U(es)}es.state.pasteIncoming=false;return true}function dH(eh,ej){var ei,ek,em=eh.doc;if(!dV(em.sel.from,em.sel.to)){eh.display.prevInput="";ei=b9&&(em.sel.to.line-em.sel.from.line>100||(ek=eh.getSelection()).length>1000);var el=ei?"-":ek||eh.getSelection();eh.display.input.value=el;if(eh.state.focused){cv(eh.display.input)}if(ct&&!by){eh.display.inputHasSelection=el}}else{if(ej){eh.display.prevInput=eh.display.input.value="";if(ct&&!by){eh.display.inputHasSelection=null}}}eh.display.inaccurateSelection=ei}function c3(eh){if(eh.options.readOnly!="nocursor"&&(!cO||document.activeElement!=eh.display.input)){eh.display.input.focus()}}function Q(eh){return eh.options.readOnly||eh.doc.cantEdit}function d1(ei){var en=ei.display;bg(en.scroller,"mousedown",b3(ei,cW));if(ct){bg(en.scroller,"dblclick",b3(ei,function(eq){if(ap(ei,eq)){return}var er=bB(ei,eq);if(!er||k(ei,eq)||aC(ei.display,eq)){return}bP(eq);var ep=Z(dw(ei.doc,er.line).text,er);d3(ei.doc,ep.from,ep.to)}))}else{bg(en.scroller,"dblclick",function(ep){ap(ei,ep)||bP(ep)})}bg(en.lineSpace,"selectstart",function(ep){if(!aC(en,ep)){bP(ep)}});if(!bR){bg(en.scroller,"contextmenu",function(ep){ab(ei,ep)})}bg(en.scroller,"scroll",function(){if(en.scroller.clientHeight){D(ei,en.scroller.scrollTop);a0(ei,en.scroller.scrollLeft,true);af(ei,"scroll",ei)}});bg(en.scrollbarV,"scroll",function(){if(en.scroller.clientHeight){D(ei,en.scrollbarV.scrollTop)}});bg(en.scrollbarH,"scroll",function(){if(en.scroller.clientHeight){a0(ei,en.scrollbarH.scrollLeft)}});bg(en.scroller,"mousewheel",function(ep){b(ei,ep)});bg(en.scroller,"DOMMouseScroll",function(ep){b(ei,ep)});function eo(){if(ei.state.focused){setTimeout(bI(c3,ei),0)}}bg(en.scrollbarH,"mousedown",eo);bg(en.scrollbarV,"mousedown",eo);bg(en.wrapper,"scroll",function(){en.wrapper.scrollTop=en.wrapper.scrollLeft=0});var eh;function el(){if(eh==null){eh=setTimeout(function(){eh=null;en.cachedCharWidth=en.cachedTextHeight=cY=null;R(ei);bV(ei,bI(O,ei))},100)}}bg(window,"resize",el);function ek(){for(var ep=en.wrapper.parentNode;ep&&ep!=document.body;ep=ep.parentNode){}if(ep){setTimeout(ek,5000)}else{cM(window,"resize",el)}}setTimeout(ek,5000);bg(en.input,"keyup",b3(ei,function(ep){if(ap(ei,ep)||ei.options.onKeyEvent&&ei.options.onKeyEvent(ei,W(ep))){return}if(ep.keyCode==16){ei.doc.sel.shift=false}}));bg(en.input,"input",bI(u,ei));bg(en.input,"keydown",b3(ei,m));bg(en.input,"keypress",b3(ei,bJ));bg(en.input,"focus",bI(bM,ei));bg(en.input,"blur",bI(ar,ei));function ej(ep){if(ap(ei,ep)||ei.options.onDragEvent&&ei.options.onDragEvent(ei,W(ep))){return}cU(ep)}if(ei.options.dragDrop){bg(en.scroller,"dragstart",function(ep){G(ei,ep)});bg(en.scroller,"dragenter",ej);bg(en.scroller,"dragover",ej);bg(en.scroller,"drop",b3(ei,aJ))}bg(en.scroller,"paste",function(ep){if(aC(en,ep)){return}c3(ei);u(ei)});bg(en.input,"paste",function(){if(b2&&!ei.state.fakedLastChar){var eq=en.input.selectionStart,ep=en.input.selectionEnd;en.input.value+="$";en.input.selectionStart=eq;en.input.selectionEnd=ep;ei.state.fakedLastChar=true}ei.state.pasteIncoming=true;u(ei)});function em(){if(en.inaccurateSelection){en.prevInput="";en.inaccurateSelection=false;en.input.value=ei.getSelection();cv(en.input)}}bg(en.input,"cut",em);bg(en.input,"copy",em);if(aD){bg(en.sizer,"mouseup",function(){if(document.activeElement==en.input){en.input.blur()}c3(ei)})}}function aC(ei,eh){for(var ej=B(eh);ej!=ei.wrapper;ej=ej.parentNode){if(!ej||ej.ignoreEvents||ej.parentNode==ei.sizer&&ej!=ei.mover){return true}}}function bB(ei,en,ek){var em=ei.display;if(!ek){var el=B(en);if(el==em.scrollbarH||el==em.scrollbarH.firstChild||el==em.scrollbarV||el==em.scrollbarV.firstChild||el==em.scrollbarFiller||el==em.gutterFiller){return null}}var eh,eo,ej=al(em.lineSpace);try{eh=en.clientX;eo=en.clientY}catch(en){return null}return d0(ei,eh-ej.left,eo-ej.top)}var cg,cb;function cW(ez){if(ap(this,ez)){return}var ek=this,eu=ek.display,eB=ek.doc,es=eB.sel;es.shift=ez.shiftKey;if(aC(eu,ez)){if(!b2){eu.scroller.draggable=false;setTimeout(function(){eu.scroller.draggable=true},100)}return}if(k(ek,ez)){return}var ej=bB(ek,ez);switch(dY(ez)){case 3:if(bR){ab.call(ek,ek,ez)}return;case 2:if(ej){d3(ek.doc,ej)}setTimeout(bI(c3,ek),20);bP(ez);return}if(!ej){if(B(ez)==eu.scroller){bP(ez)}return}if(!ek.state.focused){bM(ek)}var eh=+new Date,ei="single";if(cb&&cb.time>eh-400&&dV(cb.pos,ej)){ei="triple";bP(ez);setTimeout(bI(c3,ek),20);aM(ek,ej.line)}else{if(cg&&cg.time>eh-400&&dV(cg.pos,ej)){ei="double";cb={time:eh,pos:ej};bP(ez);var ew=Z(dw(eB,ej.line).text,ej);d3(ek.doc,ew.from,ew.to)}else{cg={time:eh,pos:ej}}}var el=ej;if(ek.options.dragDrop&&dd&&!Q(ek)&&!dV(es.from,es.to)&&!dx(ej,es.from)&&!dx(es.to,ej)&&ei=="single"){var ev=b3(ek,function(eC){if(b2){eu.scroller.draggable=false}ek.state.draggingText=false;cM(document,"mouseup",ev);cM(eu.scroller,"drop",ev);if(Math.abs(ez.clientX-eC.clientX)+Math.abs(ez.clientY-eC.clientY)<10){bP(eC);d3(ek.doc,ej);c3(ek)}});if(b2){eu.scroller.draggable=true}ek.state.draggingText=ev;if(eu.scroller.dragDrop){eu.scroller.dragDrop()}bg(document,"mouseup",ev);bg(eu.scroller,"drop",ev);return}bP(ez);if(ei=="single"){d3(ek.doc,dW(eB,ej))}var eA=es.from,ep=es.to,et=ej;function ex(eD){if(dV(et,eD)){return}et=eD;if(ei=="single"){d3(ek.doc,dW(eB,ej),eD);return}eA=dW(eB,eA);ep=dW(eB,ep);if(ei=="double"){var eC=Z(dw(eB,eD.line).text,eD);if(dx(eD,eA)){d3(ek.doc,eC.from,ep)}else{d3(ek.doc,eA,eC.to)}}else{if(ei=="triple"){if(dx(eD,eA)){d3(ek.doc,ep,dW(eB,I(eD.line,0)))}else{d3(ek.doc,eA,dW(eB,I(eD.line+1,0)))}}}}var eq=al(eu.wrapper);var em=0;function ey(eE){var eC=++em;var eG=bB(ek,eE,true);if(!eG){return}if(!dV(eG,el)){if(!ek.state.focused){bM(ek)}el=eG;ex(eG);var eF=bk(eu,eB);if(eG.line>=eF.to||eG.line<eF.from){setTimeout(b3(ek,function(){if(em==eC){ey(eE)}}),150)}}else{var eD=eE.clientY<eq.top?-20:eE.clientY>eq.bottom?20:0;if(eD){setTimeout(b3(ek,function(){if(em!=eC){return}eu.scroller.scrollTop+=eD;ey(eE)}),50)}}}function eo(eC){em=Infinity;bP(eC);c3(ek);cM(document,"mousemove",er);cM(document,"mouseup",en)}var er=b3(ek,function(eC){if(!ct&&!dY(eC)){eo(eC)}else{ey(eC)}});var en=b3(ek,eo);bg(document,"mousemove",er);bg(document,"mouseup",en)}function k(ep,en){var eo=ep.display;try{var ei=en.clientX,eh=en.clientY}catch(en){return false}if(ei>=Math.floor(al(eo.gutters).right)){return false}bP(en);if(!dC(ep,"gutterClick")){return true}var em=al(eo.lineDiv);if(eh>em.bottom){return true}eh-=em.top-eo.viewOffset;for(var ek=0;ek<ep.options.gutters.length;++ek){var el=eo.gutters.childNodes[ek];if(el&&al(el).right>=ei){var eq=a2(ep.doc,eh);var ej=ep.options.gutters[ek];M(ep,"gutterClick",ep,eq,ej,en);break}}return true}var N=0;function aJ(en){var ep=this;if(ap(ep,en)||aC(ep.display,en)||(ep.options.onDragEvent&&ep.options.onDragEvent(ep,W(en)))){return}bP(en);if(ct){N=+new Date}var eo=bB(ep,en,true),eh=en.dataTransfer.files;if(!eo||Q(ep)){return}if(eh&&eh.length&&window.FileReader&&window.File){var ej=eh.length,er=Array(ej),ei=0;var ek=function(eu,et){var es=new FileReader;es.onload=function(){er[et]=es.result;if(++ei==ej){eo=dW(ep.doc,eo);aH(ep.doc,{from:eo,to:eo,text:aw(er.join("\n")),origin:"paste"},"around")}};es.readAsText(eu)};for(var el=0;el<ej;++el){ek(eh[el],el)}}else{if(ep.state.draggingText&&!(dx(eo,ep.doc.sel.from)||dx(ep.doc.sel.to,eo))){ep.state.draggingText(en);setTimeout(bI(c3,ep),20);return}try{var er=en.dataTransfer.getData("Text");if(er){var eq=ep.doc.sel.from,em=ep.doc.sel.to;be(ep.doc,eo,eo);if(ep.state.draggingText){ax(ep.doc,"",eq,em,"paste")}ep.replaceSelection(er,null,"paste");c3(ep);bM(ep)}}catch(en){}}}function G(ei,ek){if(ct&&(!ei.state.draggingText||+new Date-N<100)){cU(ek);return}if(ap(ei,ek)||aC(ei.display,ek)){return}var eh=ei.getSelection();ek.dataTransfer.setData("Text",eh);if(ek.dataTransfer.setDragImage&&!ae){var ej=d6("img",null,null,"position: fixed; left: 0; top: 0;");if(dO){ej.width=ej.height=1;ei.display.wrapper.appendChild(ej);ej._top=ej.offsetTop}ek.dataTransfer.setDragImage(ej,0,0);if(dO){ej.parentNode.removeChild(ej)}}}function D(eh,ei){if(Math.abs(eh.doc.scrollTop-ei)<2){return}eh.doc.scrollTop=ei;if(!bC){cu(eh,[],ei)}if(eh.display.scroller.scrollTop!=ei){eh.display.scroller.scrollTop=ei}if(eh.display.scrollbarV.scrollTop!=ei){eh.display.scrollbarV.scrollTop=ei}if(bC){cu(eh,[])}cN(eh,100)}function a0(eh,ej,ei){if(ei?ej==eh.doc.scrollLeft:Math.abs(eh.doc.scrollLeft-ej)<2){return}ej=Math.min(ej,eh.display.scroller.scrollWidth-eh.display.scroller.clientWidth);eh.doc.scrollLeft=ej;c7(eh);if(eh.display.scroller.scrollLeft!=ej){eh.display.scroller.scrollLeft=ej}if(eh.display.scrollbarH.scrollLeft!=ej){eh.display.scrollbarH.scrollLeft=ej}}var dD=0,bu=null;if(ct){bu=-0.53}else{if(bC){bu=15}else{if(ca){bu=-0.7}else{if(ae){bu=-1/3}}}}function b(en,ei){var eq=ei.wheelDeltaX,ep=ei.wheelDeltaY;if(eq==null&&ei.detail&&ei.axis==ei.HORIZONTAL_AXIS){eq=ei.detail}if(ep==null&&ei.detail&&ei.axis==ei.VERTICAL_AXIS){ep=ei.detail}else{if(ep==null){ep=ei.wheelDelta}}var ek=en.display,em=ek.scroller;if(!(eq&&em.scrollWidth>em.clientWidth||ep&&em.scrollHeight>em.clientHeight)){return}if(ep&&bl&&b2){for(var eo=ei.target;eo!=em;eo=eo.parentNode){if(eo.lineObj){en.display.currentWheelTarget=eo;break}}}if(eq&&!bC&&!dO&&bu!=null){if(ep){D(en,Math.max(0,Math.min(em.scrollTop+ep*bu,em.scrollHeight-em.clientHeight)))}a0(en,Math.max(0,Math.min(em.scrollLeft+eq*bu,em.scrollWidth-em.clientWidth)));bP(ei);ek.wheelStartX=null;return}if(ep&&bu!=null){var eh=ep*bu;var el=en.doc.scrollTop,ej=el+ek.wrapper.clientHeight;if(eh<0){el=Math.max(0,el+eh-50)}else{ej=Math.min(en.doc.height,ej+eh+50)}cu(en,[],{top:el,bottom:ej})}if(dD<20){if(ek.wheelStartX==null){ek.wheelStartX=em.scrollLeft;ek.wheelStartY=em.scrollTop;ek.wheelDX=eq;ek.wheelDY=ep;setTimeout(function(){if(ek.wheelStartX==null){return}var er=em.scrollLeft-ek.wheelStartX;var et=em.scrollTop-ek.wheelStartY;var es=(et&&ek.wheelDY&&et/ek.wheelDY)||(er&&ek.wheelDX&&er/ek.wheelDX);ek.wheelStartX=ek.wheelStartY=null;if(!es){return}bu=(bu*dD+es)/(dD+1);++dD},200)}else{ek.wheelDX+=eq;ek.wheelDY+=ep}}}function d2(ei,el,eh){if(typeof el=="string"){el=c5[el];if(!el){return false}}if(ei.display.pollingFast&&bv(ei)){ei.display.pollingFast=false}var em=ei.doc,ek=em.sel.shift,ej=false;try{if(Q(ei)){ei.state.suppressEdits=true}if(eh){em.sel.shift=false}ej=el(ei)!=bq}finally{em.sel.shift=ek;ei.state.suppressEdits=false}return ej}function ck(eh){var ei=eh.state.keyMaps.slice(0);if(eh.options.extraKeys){ei.push(eh.options.extraKeys)}ei.push(eh.options.keyMap);return ei}var X;function dA(eh,en){var ei=d4(eh.options.keyMap),el=ei.auto;clearTimeout(X);if(el&&!c4(en)){X=setTimeout(function(){if(d4(eh.options.keyMap)==ei){eh.options.keyMap=(el.call?el.call(null,eh):el);ef(eh)}},50)}var ek=dJ(en,true),em=false;if(!ek){return false}var ej=ck(eh);if(en.shiftKey){em=g("Shift-"+ek,ej,function(eo){return d2(eh,eo,true)})||g(ek,ej,function(eo){if(typeof eo=="string"?/^go[A-Z]/.test(eo):eo.motion){return d2(eh,eo)}})}else{em=g(ek,ej,function(eo){return d2(eh,eo)})}if(em){bP(en);l(eh);if(by){en.oldKeyCode=en.keyCode;en.keyCode=0}M(eh,"keyHandled",eh,ek,en)}return em}function cQ(eh,ek,ei){var ej=g("'"+ei+"'",ck(eh),function(el){return d2(eh,el,true)});if(ej){bP(ek);l(eh);M(eh,"keyHandled",eh,"'"+ei+"'",ek)}return ej}var cf=null;function m(ek){var eh=this;if(!eh.state.focused){bM(eh)}if(ap(eh,ek)||eh.options.onKeyEvent&&eh.options.onKeyEvent(eh,W(ek))){return}if(ct&&ek.keyCode==27){ek.returnValue=false}var ei=ek.keyCode;eh.doc.sel.shift=ei==16||ek.shiftKey;var ej=dA(eh,ek);if(dO){cf=ej?ei:null;if(!ej&&ei==88&&!b9&&(bl?ek.metaKey:ek.ctrlKey)){eh.replaceSelection("")}}}function bJ(el){var eh=this;if(ap(eh,el)||eh.options.onKeyEvent&&eh.options.onKeyEvent(eh,W(el))){return}var ek=el.keyCode,ei=el.charCode;if(dO&&ek==cf){cf=null;bP(el);return}if(((dO&&(!el.which||el.which<10))||aD)&&dA(eh,el)){return}var ej=String.fromCharCode(ei==null?ek:ei);if(this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!Q(this)&&this.doc.mode.electricChars.indexOf(ej)>-1){setTimeout(b3(eh,function(){L(eh,eh.doc.sel.to.line,"smart")}),75)}if(cQ(eh,el,ej)){return}if(ct&&!by){eh.display.inputHasSelection=null}u(eh)}function bM(eh){if(eh.options.readOnly=="nocursor"){return}if(!eh.state.focused){af(eh,"focus",eh);eh.state.focused=true;if(eh.display.wrapper.className.search(/\bCodeMirror-focused\b/)==-1){eh.display.wrapper.className+=" CodeMirror-focused"}if(!eh.curOp){dH(eh,true);if(b2){setTimeout(bI(dH,eh,true),0)}}}aN(eh);l(eh)}function ar(eh){if(eh.state.focused){af(eh,"blur",eh);eh.state.focused=false;eh.display.wrapper.className=eh.display.wrapper.className.replace(" CodeMirror-focused","")}clearInterval(eh.display.blinker);setTimeout(function(){if(!eh.state.focused){eh.doc.sel.shift=false}},150)}var dS;function ab(eq,el){if(ap(eq,el,"contextmenu")){return}var en=eq.display,ei=eq.doc.sel;if(aC(en,el)){return}var ep=bB(eq,el),eh=en.scroller.scrollTop;if(!ep||dO){return}if(dV(ei.from,ei.to)||dx(ep,ei.from)||!dx(ep,ei.to)){b3(eq,be)(eq.doc,ep,ep)}var em=en.input.style.cssText;en.inputDiv.style.position="absolute";en.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(el.clientY-5)+"px; left: "+(el.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);";c3(eq);dH(eq,true);if(dV(ei.from,ei.to)){en.input.value=en.prevInput=" "}function ek(){if(en.input.selectionStart!=null){var er=en.input.value=" "+(dV(ei.from,ei.to)?"":en.input.value);en.prevInput=" ";en.input.selectionStart=1;en.input.selectionEnd=er.length}}function eo(){en.inputDiv.style.position="relative";en.input.style.cssText=em;if(by){en.scrollbarV.scrollTop=en.scroller.scrollTop=eh}aN(eq);if(en.input.selectionStart!=null){if(!ct||by){ek()}clearTimeout(dS);var er=0,es=function(){if(en.prevInput==" "&&en.input.selectionStart==0){b3(eq,c5.selectAll)(eq)}else{if(er++<10){dS=setTimeout(es,500)}else{dH(eq)}}};dS=setTimeout(es,200)}}if(ct&&!by){ek()}if(bR){cU(el);var ej=function(){cM(window,"mouseup",ej);setTimeout(eo,20)};bg(window,"mouseup",ej)}else{setTimeout(eo,50)}}var bZ=z.changeEnd=function(eh){if(!eh.text){return eh.to}return I(eh.from.line+eh.text.length-1,dU(eh.text).length+(eh.text.length==1?eh.from.ch:0))};function c6(el,en,em){if(!dx(en.from,em)){return dW(el,em)}var ek=(en.text.length-1)-(en.to.line-en.from.line);if(em.line>en.to.line+ek){var ej=em.line-ek,ei=el.first+el.size-1;if(ej>ei){return I(ei,dw(el,ei).text.length)}return dK(em,dw(el,ej).text.length)}if(em.line==en.to.line+ek){return dK(em,dU(en.text).length+(en.text.length==1?en.from.ch:0)+dw(el,en.to.line).text.length-en.to.ch)}var eh=em.line-en.from.line;return dK(em,en.text[eh].length+(eh?0:en.from.ch))}function dB(ei,el,ej){if(ej&&typeof ej=="object"){return{anchor:c6(ei,el,ej.anchor),head:c6(ei,el,ej.head)}}if(ej=="start"){return{anchor:el.from,head:el.from}}var eh=bZ(el);if(ej=="around"){return{anchor:el.from,head:eh}}if(ej=="end"){return{anchor:eh,head:eh}}var ek=function(eo){if(dx(eo,el.from)){return eo}if(!dx(el.to,eo)){return eh}var em=eo.line+el.text.length-(el.to.line-el.from.line)-1,en=eo.ch;if(eo.line==el.to.line){en+=eh.ch-el.to.ch}return I(em,en)};return{anchor:ek(ei.sel.anchor),head:ek(ei.sel.head)}}function cz(ei,ek,ej){var eh={canceled:false,from:ek.from,to:ek.to,text:ek.text,origin:ek.origin,cancel:function(){this.canceled=true}};if(ej){eh.update=function(eo,en,em,el){if(eo){this.from=dW(ei,eo)}if(en){this.to=dW(ei,en)}if(em){this.text=em}if(el!==undefined){this.origin=el}}}af(ei,"beforeChange",ei,eh);if(ei.cm){af(ei.cm,"beforeChange",ei.cm,eh)}if(eh.canceled){return null}return{from:eh.from,to:eh.to,text:eh.text,origin:eh.origin}}function aH(ek,em,el,ej){if(ek.cm){if(!ek.cm.curOp){return b3(ek.cm,aH)(ek,em,el,ej)}if(ek.cm.state.suppressEdits){return}}if(dC(ek,"beforeChange")||ek.cm&&dC(ek.cm,"beforeChange")){em=cz(ek,em,true);if(!em){return}}var ei=ec&&!ej&&bQ(ek,em.from,em.to);if(ei){for(var eh=ei.length-1;eh>=1;--eh){an(ek,{from:ei[eh].from,to:ei[eh].to,text:[""]})}if(ei.length){an(ek,{from:ei[0].from,to:ei[0].to,text:em.text},el)}}else{an(ek,em,el)}}function an(ej,el,ek){var ei=dB(ej,el,ek);da(ej,el,ei,ej.cm?ej.cm.curOp.id:NaN);cL(ej,el,ei,cR(ej,el));var eh=[];cG(ej,function(en,em){if(!em&&ce(eh,en.history)==-1){cs(en.history,el);eh.push(en.history)}cL(en,el,null,cR(en,el))})}function bn(eq,en){if(eq.cm&&eq.cm.state.suppressEdits){return}var em=eq.history;var ei=(en=="undo"?em.done:em.undone).pop();if(!ei){return}var eo={changes:[],anchorBefore:ei.anchorAfter,headBefore:ei.headAfter,anchorAfter:ei.anchorBefore,headAfter:ei.headBefore,generation:em.generation};(en=="undo"?em.undone:em.done).push(eo);em.generation=ei.generation||++em.maxGeneration;var ej=dC(eq,"beforeChange")||eq.cm&&dC(eq.cm,"beforeChange");for(var ek=ei.changes.length-1;ek>=0;--ek){var ep=ei.changes[ek];ep.origin=en;if(ej&&!cz(eq,ep,false)){(en=="undo"?em.done:em.undone).length=0;return}eo.changes.push(cl(eq,ep));var eh=ek?dB(eq,ep,null):{anchor:ei.anchorBefore,head:ei.headBefore};cL(eq,ep,eh,cI(eq,ep));var el=[];cG(eq,function(es,er){if(!er&&ce(el,es.history)==-1){cs(es.history,ep);el.push(es.history)}cL(es,ep,null,cI(es,ep))})}}function dE(eh,ej){function ei(ek){return I(ek.line+ej,ek.ch)}eh.first+=ej;if(eh.cm){O(eh.cm,eh.first,eh.first,ej)}eh.sel.head=ei(eh.sel.head);eh.sel.anchor=ei(eh.sel.anchor);eh.sel.from=ei(eh.sel.from);eh.sel.to=ei(eh.sel.to)}function cL(el,em,ek,ei){if(el.cm&&!el.cm.curOp){return b3(el.cm,cL)(el,em,ek,ei)}if(em.to.line<el.first){dE(el,em.text.length-1-(em.to.line-em.from.line));return}if(em.from.line>el.lastLine()){return}if(em.from.line<el.first){var eh=em.text.length-1-(el.first-em.from.line);dE(el,eh);em={from:I(el.first,0),to:I(em.to.line+eh,em.to.ch),text:[dU(em.text)],origin:em.origin}}var ej=el.lastLine();if(em.to.line>ej){em={from:em.from,to:I(ej,dw(el,ej).text.length),text:[em.text[0]],origin:em.origin}}em.removed=d7(el,em.from,em.to);if(!ek){ek=dB(el,em,null)}if(el.cm){aj(el.cm,em,ei,ek)}else{dP(el,em,ei,ek)}}function aj(er,en,ek,eh){var eq=er.doc,em=er.display,eo=en.from,ep=en.to;var ei=false,ej=eo.line;if(!er.options.lineWrapping){ej=a9(t(eq,dw(eq,eo.line)));eq.iter(ej,ep.line+1,function(eu){if(eu==em.maxLine){ei=true;return true}})}if(!dx(eq.sel.head,en.from)&&!dx(en.to,eq.sel.head)){er.curOp.cursorActivity=true}dP(eq,en,ek,eh,aF(er));if(!er.options.lineWrapping){eq.iter(ej,eo.line+en.text.length,function(ev){var eu=cS(eq,ev);if(eu>em.maxLineLength){em.maxLine=ev;em.maxLineLength=eu;em.maxLineChanged=true;ei=false}});if(ei){er.curOp.updateMaxLine=true}}eq.frontier=Math.min(eq.frontier,eo.line);cN(er,400);var et=en.text.length-(ep.line-eo.line)-1;O(er,eo.line,ep.line+1,et);if(dC(er,"change")){var el={from:eo,to:ep,text:en.text,removed:en.removed,origin:en.origin};if(er.curOp.textChanged){for(var es=er.curOp.textChanged;es.next;es=es.next){}es.next=el}else{er.curOp.textChanged=el}}}function ax(ek,ej,em,el,eh){if(!el){el=em}if(dx(el,em)){var ei=el;el=em;em=ei}if(typeof ej=="string"){ej=aw(ej)}aH(ek,{from:em,to:el,text:ej,origin:eh},null)}function I(eh,ei){if(!(this instanceof I)){return new I(eh,ei)}this.line=eh;this.ch=ei}z.Pos=I;function dV(ei,eh){return ei.line==eh.line&&ei.ch==eh.ch}function dx(ei,eh){return ei.line<eh.line||(ei.line==eh.line&&ei.ch<eh.ch)}function bw(eh){return I(eh.line,eh.ch)}function b5(eh,ei){return Math.max(eh.first,Math.min(ei,eh.first+eh.size-1))}function dW(ei,ej){if(ej.line<ei.first){return I(ei.first,0)}var eh=ei.first+ei.size-1;if(ej.line>eh){return I(eh,dw(ei,eh).text.length)}return dK(ej,dw(ei,ej.line).text.length)}function dK(ej,ei){var eh=ej.ch;if(eh==null||eh>ei){return I(ej.line,ei)}else{if(eh<0){return I(ej.line,0)}else{return ej}}}function bo(ei,eh){return eh>=ei.first&&eh<ei.first+ei.size}function d3(el,em,eh,ei){if(el.sel.shift||el.sel.extend){var ek=el.sel.anchor;if(eh){var ej=dx(em,ek);if(ej!=dx(eh,ek)){ek=em;em=eh}else{if(ej!=dx(em,eh)){em=eh}}}be(el,ek,em,ei)}else{be(el,em,eh||em,ei)}if(el.cm){el.cm.curOp.userSelChange=true}}function c(ek,eh,ei){var ej={anchor:eh,head:ei};af(ek,"beforeSelectionChange",ek,ej);if(ek.cm){af(ek.cm,"beforeSelectionChange",ek.cm,ej)}ej.anchor=dW(ek,ej.anchor);ej.head=dW(ek,ej.head);return ej}function be(eo,el,em,ej,ei){if(!ei&&dC(eo,"beforeSelectionChange")||eo.cm&&dC(eo.cm,"beforeSelectionChange")){var ek=c(eo,el,em);em=ek.head;el=ek.anchor}var en=eo.sel;en.goalColumn=null;if(ei||!dV(el,en.anchor)){el=bf(eo,el,ej,ei!="push")}if(ei||!dV(em,en.head)){em=bf(eo,em,ej,ei!="push")}if(dV(en.anchor,el)&&dV(en.head,em)){return}en.anchor=el;en.head=em;var eh=dx(em,el);en.from=eh?em:el;en.to=eh?el:em;if(eo.cm){eo.cm.curOp.updateInput=eo.cm.curOp.selectionChanged=eo.cm.curOp.cursorActivity=true}M(eo,"cursorActivity",eo)}function cZ(eh){be(eh.doc,eh.doc.sel.from,eh.doc.sel.to,null,"push")}function bf(eq,ep,em,en){var er=false,ej=ep;var ek=em||1;eq.cantEdit=false;search:for(;;){var es=dw(eq,ej.line);if(es.markedSpans){for(var el=0;el<es.markedSpans.length;++el){var eh=es.markedSpans[el],ei=eh.marker;if((eh.from==null||(ei.inclusiveLeft?eh.from<=ej.ch:eh.from<ej.ch))&&(eh.to==null||(ei.inclusiveRight?eh.to>=ej.ch:eh.to>ej.ch))){if(en){af(ei,"beforeCursorEnter");if(ei.explicitlyCleared){if(!es.markedSpans){break}else{--el;continue}}}if(!ei.atomic){continue}var eo=ei.find()[ek<0?"from":"to"];if(dV(eo,ej)){eo.ch+=ek;if(eo.ch<0){if(eo.line>eq.first){eo=dW(eq,I(eo.line-1))}else{eo=null}}else{if(eo.ch>es.text.length){if(eo.line<eq.first+eq.size-1){eo=I(eo.line+1,0)}else{eo=null}}}if(!eo){if(er){if(!en){return bf(eq,ep,em,true)}eq.cantEdit=true;return I(eq.first,0)}er=true;eo=ep;ek=-ek}}ej=eo;continue search}}}return ej}}function ac(ei){var el=v(ei,ei.doc.sel.head,ei.options.cursorScrollMargin);if(!ei.state.focused){return}var em=ei.display,ej=al(em.sizer),eh=null;if(el.top+ej.top<0){eh=true}else{if(el.bottom+ej.top>(window.innerHeight||document.documentElement.clientHeight)){eh=false}}if(eh!=null&&!dL){var ek=em.cursor.style.display=="none";if(ek){em.cursor.style.display="";em.cursor.style.left=el.left+"px";em.cursor.style.top=(el.top-em.viewOffset)+"px"}em.cursor.scrollIntoView(eh);if(ek){em.cursor.style.display="none"}}}function v(eh,eo,el){if(el==null){el=0}for(;;){var em=false,ek=cA(eh,eo);var en=y(eh,ek.left,ek.top-el,ek.left,ek.bottom+el);var ei=eh.doc.scrollTop,ej=eh.doc.scrollLeft;if(en.scrollTop!=null){D(eh,en.scrollTop);if(Math.abs(eh.doc.scrollTop-ei)>1){em=true}}if(en.scrollLeft!=null){a0(eh,en.scrollLeft);if(Math.abs(eh.doc.scrollLeft-ej)>1){em=true}}if(!em){return ek}}}function x(eh,ej,el,ei,ek){var em=y(eh,ej,el,ei,ek);if(em.scrollTop!=null){D(eh,em.scrollTop)}if(em.scrollLeft!=null){a0(eh,em.scrollLeft)}}function y(en,ev,ek,eu,ej){var es=en.display,er=au(en.display);if(ek<0){ek=0}var ei=es.scroller.clientHeight-aK,eq=es.scroller.scrollTop,ep={};var ex=en.doc.height+a4(es);var ey=ek<er,et=ej>ex-er;if(ek<eq){ep.scrollTop=ey?0:ek}else{if(ej>eq+ei){var eo=Math.min(ek,(et?ex:ej)-ei);if(eo!=eq){ep.scrollTop=eo}}}var em=es.scroller.clientWidth-aK,eh=es.scroller.scrollLeft;ev+=es.gutters.offsetWidth;eu+=es.gutters.offsetWidth;var el=es.gutters.offsetWidth;var ew=ev<el+10;if(ev<eh+el||ew){if(ew){ev=0}ep.scrollLeft=Math.max(0,ev-10-el)}else{if(eu>em+eh-3){ep.scrollLeft=eu+10-em}}return ep}function w(eh,ej,ei){eh.curOp.updateScrollPos={scrollLeft:ej==null?eh.doc.scrollLeft:ej,scrollTop:ei==null?eh.doc.scrollTop:ei}}function bU(ei,ek,ej){var el=ei.curOp.updateScrollPos||(ei.curOp.updateScrollPos={scrollLeft:ei.doc.scrollLeft,scrollTop:ei.doc.scrollTop});var eh=ei.display.scroller;el.scrollTop=Math.max(0,Math.min(eh.scrollHeight-eh.clientHeight,el.scrollTop+ej));el.scrollLeft=Math.max(0,Math.min(eh.scrollWidth-eh.clientWidth,el.scrollLeft+ek))}function L(et,ek,es,ej){var er=et.doc;if(es==null){es="add"}if(es=="smart"){if(!et.doc.mode.indent){es="prev"}else{var ei=cp(et,ek)}}var en=et.options.tabSize;var eu=dw(er,ek),em=bc(eu.text,null,en);var eh=eu.text.match(/^\s*/)[0],ep;if(es=="smart"){ep=et.doc.mode.indent(ei,eu.text.slice(eh.length),eu.text);if(ep==bq){if(!ej){return}es="prev"}}if(es=="prev"){if(ek>er.first){ep=bc(dw(er,ek-1).text,null,en)}else{ep=0}}else{if(es=="add"){ep=em+et.options.indentUnit}else{if(es=="subtract"){ep=em-et.options.indentUnit}else{if(typeof es=="number"){ep=em+es}}}}ep=Math.max(0,ep);var eq="",eo=0;if(et.options.indentWithTabs){for(var el=Math.floor(ep/en);el;--el){eo+=en;eq+="\t"}}if(eo<ep){eq+=bD(ep-eo)}if(eq!=eh){ax(et.doc,eq,I(ek,0),I(ek,eh.length),"+input")}eu.stateAfter=null}function c1(eh,ej,em){var el=ej,ei=ej,ek=eh.doc;if(typeof ej=="number"){ei=dw(ek,b5(ek,ej))}else{el=a9(ej)}if(el==null){return null}if(em(ei,el)){O(eh,el,el+1)}else{return null}return ei}function aV(ey,ek,es,er,em){var ep=ek.line,eq=ek.ch,ex=es;var eh=dw(ey,ep);var ev=true;function ew(){var ez=ep+es;if(ez<ey.first||ez>=ey.first+ey.size){return(ev=false)}ep=ez;return eh=dw(ey,ez)}function eu(eA){var ez=(em?q:P)(eh,eq,es,true);if(ez==null){if(!eA&&ew()){if(em){eq=(es<0?bY:bO)(eh)}else{eq=es<0?eh.text.length:0}}else{return(ev=false)}}else{eq=ez}return true}if(er=="char"){eu()}else{if(er=="column"){eu(true)}else{if(er=="word"||er=="group"){var et=null,en=er=="group";for(var el=true;;el=false){if(es<0&&!eu(!el)){break}var ei=eh.text.charAt(eq)||"\n";var ej=bL(ei)?"w":!en?null:/\s/.test(ei)?null:"p";if(et&&et!=ej){if(es<0){es=1;eu()}break}if(ej){et=ej}if(es>0&&!eu(!el)){break}}}}}var eo=bf(ey,I(ep,eq),ex,true);if(!ev){eo.hitSide=true}return eo}function aR(ep,ek,eh,eo){var en=ep.doc,em=ek.left,el;if(eo=="page"){var ej=Math.min(ep.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);el=ek.top+eh*(ej-(eh<0?1.5:0.5)*au(ep.display))}else{if(eo=="line"){el=eh>0?ek.bottom+3:ek.top-3}}for(;;){var ei=d0(ep,em,el);if(!ei.outside){break}if(eh<0?el<=0:el>=en.height){ei.hitSide=true;break}el+=eh*5}return ei}function Z(ek,em){var el=em.ch,ej=em.ch;if(ek){if((em.xRel<0||ej==ek.length)&&el){--el}else{++ej}var ei=ek.charAt(el);var eh=bL(ei)?bL:/\s/.test(ei)?function(en){return/\s/.test(en)}:function(en){return !/\s/.test(en)&&!bL(en)};while(el>0&&eh(ek.charAt(el-1))){--el}while(ej<ek.length&&eh(ek.charAt(ej))){++ej}}return{from:I(em.line,el),to:I(em.line,ej)}}function aM(eh,ei){d3(eh.doc,I(ei,0),dW(eh.doc,I(ei+1,0)))}z.prototype={constructor:z,focus:function(){window.focus();c3(this);bM(this);u(this)},setOption:function(ej,ek){var ei=this.options,eh=ei[ej];if(ei[ej]==ek&&ej!="mode"){return}ei[ej]=ek;if(aG.hasOwnProperty(ej)){b3(this,aG[ej])(this,ek,eh)}},getOption:function(eh){return this.options[eh]},getDoc:function(){return this.doc},addKeyMap:function(ei,eh){this.state.keyMaps[eh?"push":"unshift"](ei)},removeKeyMap:function(ei){var ej=this.state.keyMaps;for(var eh=0;eh<ej.length;++eh){if(ej[eh]==ei||(typeof ej[eh]!="string"&&ej[eh].name==ei)){ej.splice(eh,1);return true}}},addOverlay:b3(null,function(eh,ei){var ej=eh.token?eh:z.getMode(this.options,eh);if(ej.startState){throw new Error("Overlays may not be stateful.")}this.state.overlays.push({mode:ej,modeSpec:eh,opaque:ei&&ei.opaque});this.state.modeGen++;O(this)}),removeOverlay:b3(null,function(eh){var ej=this.state.overlays;for(var ei=0;ei<ej.length;++ei){var ek=ej[ei].modeSpec;if(ek==eh||typeof eh=="string"&&ek.name==eh){ej.splice(ei,1);this.state.modeGen++;O(this);return}}}),indentLine:b3(null,function(ej,eh,ei){if(typeof eh!="string"&&typeof eh!="number"){if(eh==null){eh=this.options.smartIndent?"smart":"prev"}else{eh=eh?"add":"subtract"}}if(bo(this.doc,ej)){L(this,ej,eh,ei)}}),indentSelection:b3(null,function(ei){var ej=this.doc.sel;if(dV(ej.from,ej.to)){return L(this,ej.from.line,ei)}var ek=ej.to.line-(ej.to.ch?0:1);for(var eh=ej.from.line;eh<=ek;++eh){L(this,eh,ei)}}),getTokenAt:function(eo,ei){var el=this.doc;eo=dW(el,eo);var ek=cp(this,eo.line,ei),en=this.doc.mode;var eh=dw(el,eo.line);var em=new dh(eh.text,this.options.tabSize);while(em.pos<eo.ch&&!em.eol()){em.start=em.pos;var ej=en.token(em,ek)}return{start:em.start,end:em.pos,string:em.current(),className:ej||null,type:ej||null,state:ek}},getTokenTypeAt:function(em){em=dW(this.doc,em);var ej=b8(this,dw(this.doc,em.line));var ek=0,el=(ej.length-1)/2,ei=em.ch;if(ei==0){return ej[2]}for(;;){var eh=(ek+el)>>1;if((eh?ej[eh*2-1]:0)>=ei){el=eh}else{if(ej[eh*2+1]<ei){ek=eh+1}else{return ej[eh*2+2]}}}},getModeAt:function(ei){var eh=this.doc.mode;if(!eh.innerMode){return eh}return z.innerMode(eh,this.getTokenAt(ei).state).mode},getHelper:function(ek,ei){if(!dF.hasOwnProperty(ei)){return}var eh=dF[ei],ej=this.getModeAt(ek);return ej[ei]&&eh[ej[ei]]||ej.helperType&&eh[ej.helperType]||eh[ej.name]},getStateAfter:function(ei,eh){var ej=this.doc;ei=b5(ej,ei==null?ej.first+ej.size-1:ei);return cp(this,ei+1,eh)},cursorCoords:function(ek,ei){var ej,eh=this.doc.sel;if(ek==null){ej=eh.head}else{if(typeof ek=="object"){ej=dW(this.doc,ek)}else{ej=ek?eh.from:eh.to}}return cA(this,ej,ei||"page")},charCoords:function(ei,eh){return bT(this,dW(this.doc,ei),eh||"page")},coordsChar:function(eh,ei){eh=ee(this,eh,ei||"page");return d0(this,eh.left,eh.top)},lineAtHeight:function(eh,ei){eh=ee(this,{top:eh,left:0},ei||"page").top;return a2(this.doc,eh+this.display.viewOffset)},heightAtLine:function(ei,el){var eh=false,ek=this.doc.first+this.doc.size-1;if(ei<this.doc.first){ei=this.doc.first}else{if(ei>ek){ei=ek;eh=true}}var ej=dw(this.doc,ei);return df(this,dw(this.doc,ei),{top:0,left:0},el||"page").top+(eh?ej.height:0)},defaultTextHeight:function(){return au(this.display)},defaultCharWidth:function(){return cr(this.display)},setGutterMarker:b3(null,function(eh,ei,ej){return c1(this,eh,function(ek){var el=ek.gutterMarkers||(ek.gutterMarkers={});el[ei]=ej;if(!ej&&di(el)){ek.gutterMarkers=null}return true})}),clearGutter:b3(null,function(ej){var eh=this,ek=eh.doc,ei=ek.first;ek.iter(function(el){if(el.gutterMarkers&&el.gutterMarkers[ej]){el.gutterMarkers[ej]=null;O(eh,ei,ei+1);if(di(el.gutterMarkers)){el.gutterMarkers=null}}++ei})}),addLineClass:b3(null,function(ej,ei,eh){return c1(this,ej,function(ek){var el=ei=="text"?"textClass":ei=="background"?"bgClass":"wrapClass";if(!ek[el]){ek[el]=eh}else{if(new RegExp("(?:^|\\s)"+eh+"(?:$|\\s)").test(ek[el])){return false}else{ek[el]+=" "+eh}}return true})}),removeLineClass:b3(null,function(ej,ei,eh){return c1(this,ej,function(el){var eo=ei=="text"?"textClass":ei=="background"?"bgClass":"wrapClass";var en=el[eo];if(!en){return false}else{if(eh==null){el[eo]=null}else{var em=en.match(new RegExp("(?:^|\\s+)"+eh+"(?:$|\\s+)"));if(!em){return false}var ek=em.index+em[0].length;el[eo]=en.slice(0,em.index)+(!em.index||ek==en.length?"":" ")+en.slice(ek)||null}}return true})}),addLineWidget:b3(null,function(ej,ei,eh){return a3(this,ej,ei,eh)}),removeLineWidget:function(eh){eh.clear()},lineInfo:function(eh){if(typeof eh=="number"){if(!bo(this.doc,eh)){return null}var ei=eh;eh=dw(this.doc,eh);if(!eh){return null}}else{var ei=a9(eh);if(ei==null){return null}}return{line:ei,handle:eh,text:eh.text,gutterMarkers:eh.gutterMarkers,textClass:eh.textClass,bgClass:eh.bgClass,wrapClass:eh.wrapClass,widgets:eh.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(em,ej,eo,ek,eq){var el=this.display;em=cA(this,dW(this.doc,em));var en=em.bottom,ei=em.left;ej.style.position="absolute";el.sizer.appendChild(ej);if(ek=="over"){en=em.top}else{if(ek=="above"||ek=="near"){var eh=Math.max(el.wrapper.clientHeight,this.doc.height),ep=Math.max(el.sizer.clientWidth,el.lineSpace.clientWidth);if((ek=="above"||em.bottom+ej.offsetHeight>eh)&&em.top>ej.offsetHeight){en=em.top-ej.offsetHeight}else{if(em.bottom+ej.offsetHeight<=eh){en=em.bottom}}if(ei+ej.offsetWidth>ep){ei=ep-ej.offsetWidth}}}ej.style.top=en+"px";ej.style.left=ej.style.right="";if(eq=="right"){ei=el.sizer.clientWidth-ej.offsetWidth;ej.style.right="0px"}else{if(eq=="left"){ei=0}else{if(eq=="middle"){ei=(el.sizer.clientWidth-ej.offsetWidth)/2}}ej.style.left=ei+"px"}if(eo){x(this,ei,en,ei+ej.offsetWidth,en+ej.offsetHeight)}},triggerOnKeyDown:b3(null,m),execCommand:function(eh){return c5[eh](this)},findPosH:function(en,ek,el,ei){var eh=1;if(ek<0){eh=-1;ek=-ek}for(var ej=0,em=dW(this.doc,en);ej<ek;++ej){em=aV(this.doc,em,eh,el,ei);if(em.hitSide){break}}return em},moveH:b3(null,function(eh,ei){var ej=this.doc.sel,ek;if(ej.shift||ej.extend||dV(ej.from,ej.to)){ek=aV(this.doc,ej.head,eh,ei,this.options.rtlMoveVisually)}else{ek=eh<0?ej.from:ej.to}d3(this.doc,ek,ek,eh)}),deleteH:b3(null,function(eh,ei){var ej=this.doc.sel;if(!dV(ej.from,ej.to)){ax(this.doc,"",ej.from,ej.to,"+delete")}else{ax(this.doc,"",ej.from,aV(this.doc,ej.head,eh,ei,false),"+delete")}this.curOp.userSelChange=true}),findPosV:function(em,ej,en,ep){var eh=1,el=ep;if(ej<0){eh=-1;ej=-ej}for(var ei=0,eo=dW(this.doc,em);ei<ej;++ei){var ek=cA(this,eo,"div");if(el==null){el=ek.left}else{ek.left=el}eo=aR(this,ek,eh,en);if(eo.hitSide){break}}return eo},moveV:b3(null,function(eh,ei){var ej=this.doc.sel;var el=cA(this,ej.head,"div");if(ej.goalColumn!=null){el.left=ej.goalColumn}var ek=aR(this,el,eh,ei);if(ei=="page"){bU(this,0,bT(this,ek,"div").top-el.top)}d3(this.doc,ek,ek,eh);ej.goalColumn=el.left}),toggleOverwrite:function(eh){if(eh!=null&&eh==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){this.display.cursor.className+=" CodeMirror-overwrite"}else{this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")}},hasFocus:function(){return this.state.focused},scrollTo:b3(null,function(eh,ei){w(this,eh,ei)}),getScrollInfo:function(){var eh=this.display.scroller,ei=aK;return{left:eh.scrollLeft,top:eh.scrollTop,height:eh.scrollHeight-ei,width:eh.scrollWidth-ei,clientHeight:eh.clientHeight-ei,clientWidth:eh.clientWidth-ei}},scrollIntoView:b3(null,function(ek,ej){if(typeof ek=="number"){ek=I(ek,0)}if(!ej){ej=0}var ei=ek;if(!ek||ek.line!=null){this.curOp.scrollToPos=ek?dW(this.doc,ek):this.doc.sel.head;this.curOp.scrollToPosMargin=ej;ei=cA(this,this.curOp.scrollToPos)}var eh=y(this,ei.left,ei.top-ej,ei.right,ei.bottom+ej);w(this,eh.scrollLeft,eh.scrollTop)}),setSize:b3(null,function(ej,eh){function ei(ek){return typeof ek=="number"||/^\d+$/.test(String(ek))?ek+"px":ek}if(ej!=null){this.display.wrapper.style.width=ei(ej)}if(eh!=null){this.display.wrapper.style.height=ei(eh)}if(this.options.lineWrapping){this.display.measureLineCache.length=this.display.measureLineCachePos=0}this.curOp.forceUpdate=true}),operation:function(eh){return bV(this,eh)},refresh:b3(null,function(){R(this);w(this,this.doc.scrollLeft,this.doc.scrollTop);O(this)}),swapDoc:b3(null,function(ei){var eh=this.doc;eh.cm=null;cJ(this,ei);R(this);dH(this,true);w(this,ei.scrollLeft,ei.scrollTop);return eh}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};aW(z);var aG=z.optionHandlers={};var dp=z.defaults={};function o(eh,ek,ej,ei){z.defaults[eh]=ek;if(ej){aG[eh]=ei?function(el,en,em){if(em!=br){ej(el,en,em)}}:ej}}var br=z.Init={toString:function(){return"CodeMirror.Init"}};o("value","",function(eh,ei){eh.setValue(ei)},true);o("mode",null,function(eh,ei){eh.doc.modeOption=ei;aS(eh)},true);o("indentUnit",2,aS,true);o("indentWithTabs",false);o("smartIndent",true);o("tabSize",4,function(eh){aS(eh);R(eh);O(eh)},true);o("electricChars",true);o("rtlMoveVisually",!am);o("theme","default",function(eh){bW(eh);cm(eh)},true);o("keyMap","default",ef);o("extraKeys",null);o("onKeyEvent",null);o("onDragEvent",null);o("lineWrapping",false,db,true);o("gutters",[],function(eh){bt(eh.options);cm(eh)},true);o("fixedGutter",true,function(eh,ei){eh.display.gutters.style.left=ei?cC(eh.display)+"px":"0";eh.refresh()},true);o("coverGutterNextToScrollbar",false,dk,true);o("lineNumbers",false,function(eh){bt(eh.options);cm(eh)},true);o("firstLineNumber",1,cm,true);o("lineNumberFormatter",function(eh){return eh},cm,true);o("showCursorWhenSelecting",false,aZ,true);o("readOnly",false,function(eh,ei){if(ei=="nocursor"){ar(eh);eh.display.input.blur()}else{if(!ei){dH(eh,true)}}});o("dragDrop",true);o("cursorBlinkRate",530);o("cursorScrollMargin",0);o("cursorHeight",1);o("workTime",100);o("workDelay",100);o("flattenSpans",true);o("pollInterval",100);o("undoDepth",40,function(eh,ei){eh.doc.history.undoDepth=ei});o("historyEventDelay",500);o("viewportMargin",10,function(eh){eh.refresh()},true);o("maxHighlightLength",10000,function(eh){aS(eh);eh.refresh()},true);o("moveInputWithCursor",true,function(eh,ei){if(!ei){eh.display.inputDiv.style.top=eh.display.inputDiv.style.left=0}});o("tabindex",null,function(eh,ei){eh.display.input.tabIndex=ei||""});o("autofocus",null);var cj=z.modes={},aq=z.mimeModes={};z.defineMode=function(eh,ej){if(!z.defaults.mode&&eh!="null"){z.defaults.mode=eh}if(arguments.length>2){ej.dependencies=[];for(var ei=2;ei<arguments.length;++ei){ej.dependencies.push(arguments[ei])}}cj[eh]=ej};z.defineMIME=function(ei,eh){aq[ei]=eh};z.resolveMode=function(eh){if(typeof eh=="string"&&aq.hasOwnProperty(eh)){eh=aq[eh]}else{if(eh&&typeof eh.name=="string"&&aq.hasOwnProperty(eh.name)){var ei=aq[eh.name];eh=bx(ei,eh);eh.name=ei.name}else{if(typeof eh=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(eh)){return z.resolveMode("application/xml")}}}if(typeof eh=="string"){return{name:eh}}else{return eh||{name:"null"}}};z.getMode=function(ei,eh){var eh=z.resolveMode(eh);var ek=cj[eh.name];if(!ek){return z.getMode(ei,"text/plain")}var el=ek(ei,eh);if(ch.hasOwnProperty(eh.name)){var ej=ch[eh.name];for(var em in ej){if(!ej.hasOwnProperty(em)){continue}if(el.hasOwnProperty(em)){el["_"+em]=el[em]}el[em]=ej[em]}}el.name=eh.name;return el};z.defineMode("null",function(){return{token:function(eh){eh.skipToEnd()}}});z.defineMIME("text/plain","null");var ch=z.modeExtensions={};z.extendMode=function(ej,ei){var eh=ch.hasOwnProperty(ej)?ch[ej]:(ch[ej]={});ak(ei,eh)};z.defineExtension=function(eh,ei){z.prototype[eh]=ei};z.defineDocExtension=function(eh,ei){Y.prototype[eh]=ei};z.defineOption=o;var aA=[];z.defineInitHook=function(eh){aA.push(eh)};var dF=z.helpers={};z.registerHelper=function(ei,eh,ej){if(!dF.hasOwnProperty(ei)){dF[ei]=z[ei]={}}dF[ei][eh]=ej};z.isWordChar=bL;function bj(ek,eh){if(eh===true){return eh}if(ek.copyState){return ek.copyState(eh)}var ej={};for(var el in eh){var ei=eh[el];if(ei instanceof Array){ei=ei.concat([])}ej[el]=ei}return ej}z.copyState=bj;function bi(ej,ei,eh){return ej.startState?ej.startState(ei,eh):true}z.startState=bi;z.innerMode=function(ej,eh){while(ej.innerMode){var ei=ej.innerMode(eh);if(!ei||ei.mode==ej){break}eh=ei.state;ej=ei.mode}return ei||{mode:ej,state:eh}};var c5=z.commands={selectAll:function(eh){eh.setSelection(I(eh.firstLine(),0),I(eh.lastLine()))},killLine:function(eh){var ek=eh.getCursor(true),ej=eh.getCursor(false),ei=!dV(ek,ej);if(!ei&&eh.getLine(ek.line).length==ek.ch){eh.replaceRange("",ek,I(ek.line+1,0),"+delete")}else{eh.replaceRange("",ek,ei?ej:I(ek.line),"+delete")}},deleteLine:function(eh){var ei=eh.getCursor().line;eh.replaceRange("",I(ei,0),I(ei),"+delete")},delLineLeft:function(eh){var ei=eh.getCursor();eh.replaceRange("",I(ei.line,0),ei,"+delete")},undo:function(eh){eh.undo()},redo:function(eh){eh.redo()},goDocStart:function(eh){eh.extendSelection(I(eh.firstLine(),0))},goDocEnd:function(eh){eh.extendSelection(I(eh.lastLine()))},goLineStart:function(eh){eh.extendSelection(aU(eh,eh.getCursor().line))},goLineStartSmart:function(ei){var em=ei.getCursor(),en=aU(ei,em.line);var ej=ei.getLineHandle(en.line);var eh=a(ej);if(!eh||eh[0].level==0){var el=Math.max(0,ej.text.search(/\S/));var ek=em.line==en.line&&em.ch<=el&&em.ch;ei.extendSelection(I(en.line,ek?0:el))}else{ei.extendSelection(en)}},goLineEnd:function(eh){eh.extendSelection(cy(eh,eh.getCursor().line))},goLineRight:function(eh){var ei=eh.charCoords(eh.getCursor(),"div").top+5;eh.extendSelection(eh.coordsChar({left:eh.display.lineDiv.offsetWidth+100,top:ei},"div"))},goLineLeft:function(eh){var ei=eh.charCoords(eh.getCursor(),"div").top+5;eh.extendSelection(eh.coordsChar({left:0,top:ei},"div"))},goLineUp:function(eh){eh.moveV(-1,"line")},goLineDown:function(eh){eh.moveV(1,"line")},goPageUp:function(eh){eh.moveV(-1,"page")},goPageDown:function(eh){eh.moveV(1,"page")},goCharLeft:function(eh){eh.moveH(-1,"char")},goCharRight:function(eh){eh.moveH(1,"char")},goColumnLeft:function(eh){eh.moveH(-1,"column")},goColumnRight:function(eh){eh.moveH(1,"column")},goWordLeft:function(eh){eh.moveH(-1,"word")},goGroupRight:function(eh){eh.moveH(1,"group")},goGroupLeft:function(eh){eh.moveH(-1,"group")},goWordRight:function(eh){eh.moveH(1,"word")},delCharBefore:function(eh){eh.deleteH(-1,"char")},delCharAfter:function(eh){eh.deleteH(1,"char")},delWordBefore:function(eh){eh.deleteH(-1,"word")},delWordAfter:function(eh){eh.deleteH(1,"word")},delGroupBefore:function(eh){eh.deleteH(-1,"group")},delGroupAfter:function(eh){eh.deleteH(1,"group")},indentAuto:function(eh){eh.indentSelection("smart")},indentMore:function(eh){eh.indentSelection("add")},indentLess:function(eh){eh.indentSelection("subtract")},insertTab:function(eh){eh.replaceSelection("\t","end","+input")},defaultTab:function(eh){if(eh.somethingSelected()){eh.indentSelection("add")}else{eh.replaceSelection("\t","end","+input")}},transposeChars:function(eh){var ej=eh.getCursor(),ei=eh.getLine(ej.line);if(ej.ch>0&&ej.ch<ei.length-1){eh.replaceRange(ei.charAt(ej.ch)+ei.charAt(ej.ch-1),I(ej.line,ej.ch-1),I(ej.line,ej.ch+1))}},newlineAndIndent:function(eh){b3(eh,function(){eh.replaceSelection("\n","end","+input");eh.indentLine(eh.getCursor().line,null,true)})()},toggleOverwrite:function(eh){eh.toggleOverwrite()}};var dt=z.keyMap={};dt.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};dt.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};dt.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft",fallthrough:["basic","emacsy"]};dt["default"]=bl?dt.macDefault:dt.pcDefault;dt.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function d4(eh){if(typeof eh=="string"){return dt[eh]}else{return eh}}function g(ei,em,ek){function el(es){es=d4(es);var eq=es[ei];if(eq===false){return"stop"}if(eq!=null&&ek(eq)){return true}if(es.nofallthrough){return"stop"}var ep=es.fallthrough;if(ep==null){return false}if(Object.prototype.toString.call(ep)!="[object Array]"){return el(ep)}for(var eo=0,er=ep.length;eo<er;++eo){var en=el(ep[eo]);if(en){return en}}return false}for(var ej=0;ej<em.length;++ej){var eh=el(em[ej]);if(eh){return eh!="stop"}}}function c4(ei){var eh=dy[ei.keyCode];return eh=="Ctrl"||eh=="Alt"||eh=="Shift"||eh=="Mod"}function dJ(ei,ej){if(dO&&ei.keyCode==34&&ei["char"]){return false}var eh=dy[ei.keyCode];if(eh==null||ei.altGraphKey){return false}if(ei.altKey){eh="Alt-"+eh}if(bb?ei.metaKey:ei.ctrlKey){eh="Ctrl-"+eh}if(bb?ei.ctrlKey:ei.metaKey){eh="Cmd-"+eh}if(!ej&&ei.shiftKey){eh="Shift-"+eh}return eh}z.lookupKey=g;z.isModifierKey=c4;z.keyName=dJ;z.fromTextArea=function(eo,ep){if(!ep){ep={}}ep.value=eo.value;if(!ep.tabindex&&eo.tabindex){ep.tabindex=eo.tabindex}if(!ep.placeholder&&eo.placeholder){ep.placeholder=eo.placeholder}if(ep.autofocus==null){var eh=document.body;try{eh=document.activeElement}catch(ej){}ep.autofocus=eh==eo||eo.getAttribute("autofocus")!=null&&eh==document.body}function el(){eo.value=en.getValue()}if(eo.form){bg(eo.form,"submit",el);if(!ep.leaveSubmitMethodAlone){var ei=eo.form,em=ei.submit;try{var ek=ei.submit=function(){el();ei.submit=em;ei.submit();ei.submit=ek}}catch(ej){}}}eo.style.display="none";var en=z(function(eq){eo.parentNode.insertBefore(eq,eo.nextSibling)},ep);en.save=el;en.getTextArea=function(){return eo};en.toTextArea=function(){el();eo.parentNode.removeChild(en.getWrapperElement());eo.style.display="";if(eo.form){cM(eo.form,"submit",el);if(typeof eo.form.submit=="function"){eo.form.submit=em}}};return en};function dh(eh,ei){this.pos=this.start=0;this.string=eh;this.tabSize=ei||8;this.lastColumnPos=this.lastColumnValue=0}dh.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(eh){var ej=this.string.charAt(this.pos);if(typeof eh=="string"){var ei=ej==eh}else{var ei=ej&&(eh.test?eh.test(ej):eh(ej))}if(ei){++this.pos;return ej}},eatWhile:function(eh){var ei=this.pos;while(this.eat(eh)){}return this.pos>ei},eatSpace:function(){var eh=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>eh},skipToEnd:function(){this.pos=this.string.length},skipTo:function(eh){var ei=this.string.indexOf(eh,this.pos);if(ei>-1){this.pos=ei;return true}},backUp:function(eh){this.pos-=eh},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=bc(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue},indentation:function(){return bc(this.string,null,this.tabSize)},match:function(el,ei,eh){if(typeof el=="string"){var em=function(en){return eh?en.toLowerCase():en};var ek=this.string.substr(this.pos,el.length);if(em(ek)==em(el)){if(ei!==false){this.pos+=el.length}return true}}else{var ej=this.string.slice(this.pos).match(el);if(ej&&ej.index>0){return null}if(ej&&ei!==false){this.pos+=ej[0].length}return ej}},current:function(){return this.string.slice(this.start,this.pos)}};z.StringStream=dh;function F(ei,eh){this.lines=[];this.type=eh;this.doc=ei}z.TextMarker=F;aW(F);F.prototype.clear=function(){if(this.explicitlyCleared){return}var eo=this.doc.cm,ei=eo&&!eo.curOp;if(ei){bS(eo)}if(dC(this,"clear")){var ep=this.find();if(ep){M(this,"clear",ep.from,ep.to)}}var ej=null,em=null;for(var ek=0;ek<this.lines.length;++ek){var eq=this.lines[ek];var en=ds(eq.markedSpans,this);if(en.to!=null){em=a9(eq)}eq.markedSpans=dc(eq.markedSpans,en);if(en.from!=null){ej=a9(eq)}else{if(this.collapsed&&!dM(this.doc,eq)&&eo){ea(eq,au(eo.display))}}}if(eo&&this.collapsed&&!eo.options.lineWrapping){for(var ek=0;ek<this.lines.length;++ek){var eh=t(eo.doc,this.lines[ek]),el=cS(eo.doc,eh);if(el>eo.display.maxLineLength){eo.display.maxLine=eh;eo.display.maxLineLength=el;eo.display.maxLineChanged=true}}}if(ej!=null&&eo){O(eo,ej,em+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(eo){cZ(eo)}}if(ei){U(eo)}};F.prototype.find=function(){var em,el;for(var ei=0;ei<this.lines.length;++ei){var eh=this.lines[ei];var ej=ds(eh.markedSpans,this);if(ej.from!=null||ej.to!=null){var ek=a9(eh);if(ej.from!=null){em=I(ek,ej.from)}if(ej.to!=null){el=I(ek,ej.to)}}}if(this.type=="bookmark"){return em}return em&&{from:em,to:el}};F.prototype.changed=function(){var ek=this.find(),eh=this.doc.cm;if(!ek||!eh){return}if(this.type!="bookmark"){ek=ek.from}var ei=dw(this.doc,ek.line);dZ(eh,ei);if(ek.line>=eh.display.showingFrom&&ek.line<eh.display.showingTo){for(var ej=eh.display.lineDiv.firstChild;ej;ej=ej.nextSibling){if(ej.lineObj==ei){if(ej.offsetHeight!=ei.height){ea(ei,ej.offsetHeight)}break}}bV(eh,function(){eh.curOp.selectionChanged=eh.curOp.forceUpdate=eh.curOp.updateMaxLine=true})}};F.prototype.attachLine=function(eh){if(!this.lines.length&&this.doc.cm){var ei=this.doc.cm.curOp;if(!ei.maybeHiddenMarkers||ce(ei.maybeHiddenMarkers,this)==-1){(ei.maybeUnhiddenMarkers||(ei.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(eh)};F.prototype.detachLine=function(eh){this.lines.splice(ce(this.lines,eh),1);if(!this.lines.length&&this.doc.cm){var ei=this.doc.cm.curOp;(ei.maybeHiddenMarkers||(ei.maybeHiddenMarkers=[])).push(this)}};function c9(eq,eo,ep,es,em){if(es&&es.shared){return E(eq,eo,ep,es,em)}if(eq.cm&&!eq.cm.curOp){return b3(eq.cm,c9)(eq,eo,ep,es,em)}var el=new F(eq,em);if(em=="range"&&!dx(eo,ep)){return el}if(es){ak(es,el)}if(el.replacedWith){el.collapsed=true;el.replacedWith=d6("span",[el.replacedWith],"CodeMirror-widget");if(!es.handleMouseEvents){el.replacedWith.ignoreEvents=true}}if(el.collapsed){az=true}if(el.addToHistory){da(eq,{from:eo,to:ep,origin:"markText"},{head:eq.sel.head,anchor:eq.sel.anchor},NaN)}var ei=eo.line,er=0,ek,ej,en=eq.cm,eh;eq.iter(ei,ep.line+1,function(et){if(en&&el.collapsed&&!en.options.lineWrapping&&t(eq,et)==en.display.maxLine){eh=true}var eu={from:null,to:null,marker:el};er+=et.text.length;if(ei==eo.line){eu.from=eo.ch;er-=eo.ch}if(ei==ep.line){eu.to=ep.ch;er-=et.text.length-ep.ch}if(el.collapsed){if(ei==ep.line){ej=aX(et,ep.ch)}if(ei==eo.line){ek=aX(et,eo.ch)}else{ea(et,0)}}bs(et,eu);++ei});if(el.collapsed){eq.iter(eo.line,ep.line+1,function(et){if(dM(eq,et)){ea(et,0)}})}if(el.clearOnEnter){bg(el,"beforeCursorEnter",function(){el.clear()})}if(el.readOnly){ec=true;if(eq.history.done.length||eq.history.undone.length){eq.clearHistory()}}if(el.collapsed){if(ek!=ej){throw new Error("Inserting collapsed marker overlapping an existing one")}el.size=er;el.atomic=true}if(en){if(eh){en.curOp.updateMaxLine=true}if(el.className||el.title||el.startStyle||el.endStyle||el.collapsed){O(en,eo.line,ep.line+1)}if(el.atomic){cZ(en)}}return el}function s(ek,ei){this.markers=ek;this.primary=ei;for(var eh=0,ej=this;eh<ek.length;++eh){ek[eh].parent=this;bg(ek[eh],"clear",function(){ej.clear()})}}z.SharedTextMarker=s;aW(s);s.prototype.clear=function(){if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var eh=0;eh<this.markers.length;++eh){this.markers[eh].clear()}M(this,"clear")};s.prototype.find=function(){return this.primary.find()};function E(el,eo,en,eh,ej){eh=ak(eh);eh.shared=false;var em=[c9(el,eo,en,eh,ej)],ei=em[0];var ek=eh.replacedWith;cG(el,function(eq){if(ek){eh.replacedWith=ek.cloneNode(true)}em.push(c9(eq,dW(eq,eo),dW(eq,en),eh,ej));for(var ep=0;ep<eq.linked.length;++ep){if(eq.linked[ep].isParent){return}}ei=dU(em)});return new s(em,ei)}function ds(ej,eh){if(ej){for(var ei=0;ei<ej.length;++ei){var ek=ej[ei];if(ek.marker==eh){return ek}}}}function dc(ei,ej){for(var ek,eh=0;eh<ei.length;++eh){if(ei[eh]!=ej){(ek||(ek=[])).push(ei[eh])}}return ek}function bs(eh,ei){eh.markedSpans=eh.markedSpans?eh.markedSpans.concat([ei]):[ei];ei.marker.attachLine(eh)}function ao(ei,ej,en){if(ei){for(var el=0,eo;el<ei.length;++el){var ep=ei[el],em=ep.marker;var eh=ep.from==null||(em.inclusiveLeft?ep.from<=ej:ep.from<ej);if(eh||em.type=="bookmark"&&ep.from==ej&&(!en||!ep.marker.insertLeft)){var ek=ep.to==null||(em.inclusiveRight?ep.to>=ej:ep.to>ej);(eo||(eo=[])).push({from:ep.from,to:ek?null:ep.to,marker:em})}}}return eo}function ad(ei,ek,en){if(ei){for(var el=0,eo;el<ei.length;++el){var ep=ei[el],em=ep.marker;var ej=ep.to==null||(em.inclusiveRight?ep.to>=ek:ep.to>ek);if(ej||em.type=="bookmark"&&ep.from==ek&&(!en||ep.marker.insertLeft)){var eh=ep.from==null||(em.inclusiveLeft?ep.from<=ek:ep.from<ek);(eo||(eo=[])).push({from:eh?null:ep.from-ek,to:ep.to==null?null:ep.to-ek,marker:em})}}}return eo}function cR(et,eq){var ep=bo(et,eq.from.line)&&dw(et,eq.from.line).markedSpans;var ew=bo(et,eq.to.line)&&dw(et,eq.to.line).markedSpans;if(!ep&&!ew){return null}var ei=eq.from.ch,el=eq.to.ch,eo=dV(eq.from,eq.to);var en=ao(ep,ei,eo);var ev=ad(ew,el,eo);var eu=eq.text.length==1,ej=dU(eq.text).length+(eu?ei:0);if(en){for(var ek=0;ek<en.length;++ek){var es=en[ek];if(es.to==null){var ex=ds(ev,es.marker);if(!ex){es.to=ei}else{if(eu){es.to=ex.to==null?null:ex.to+ej}}}}}if(ev){for(var ek=0;ek<ev.length;++ek){var es=ev[ek];if(es.to!=null){es.to+=ej}if(es.from==null){var ex=ds(en,es.marker);if(!ex){es.from=ej;if(eu){(en||(en=[])).push(es)}}}else{es.from+=ej;if(eu){(en||(en=[])).push(es)}}}}if(eu&&en){for(var ek=0;ek<en.length;++ek){if(en[ek].from!=null&&en[ek].from==en[ek].to&&en[ek].marker.type!="bookmark"){en.splice(ek--,1)}}if(!en.length){en=null}}var em=[en];if(!eu){var er=eq.text.length-2,eh;if(er>0&&en){for(var ek=0;ek<en.length;++ek){if(en[ek].to==null){(eh||(eh=[])).push({from:null,to:null,marker:en[ek].marker})}}}for(var ek=0;ek<er;++ek){em.push(eh)}em.push(ev)}return em}function cI(ep,en){var eh=bm(ep,en);var eq=cR(ep,en);if(!eh){return eq}if(!eq){return eh}for(var ek=0;ek<eh.length;++ek){var el=eh[ek],em=eq[ek];if(el&&em){spans:for(var ej=0;ej<em.length;++ej){var eo=em[ej];for(var ei=0;ei<el.length;++ei){if(el[ei].marker==eo.marker){continue spans}}el.push(eo)}}else{if(em){eh[ek]=em}}}return eh}function bQ(er,ep,eq){var ek=null;er.iter(ep.line,eq.line+1,function(es){if(es.markedSpans){for(var et=0;et<es.markedSpans.length;++et){var eu=es.markedSpans[et].marker;if(eu.readOnly&&(!ek||ce(ek,eu)==-1)){(ek||(ek=[])).push(eu)}}}});if(!ek){return null}var el=[{from:ep,to:eq}];for(var em=0;em<ek.length;++em){var en=ek[em],ei=en.find();for(var ej=0;ej<el.length;++ej){var eh=el[ej];if(dx(eh.to,ei.from)||dx(ei.to,eh.from)){continue}var eo=[ej,1];if(dx(eh.from,ei.from)||!en.inclusiveLeft&&dV(eh.from,ei.from)){eo.push({from:eh.from,to:ei.from})}if(dx(ei.to,eh.to)||!en.inclusiveRight&&dV(eh.to,ei.to)){eo.push({from:ei.to,to:eh.to})}el.splice.apply(el,eo);ej+=eo.length-1}}return el}function aX(ei,ek){var eh=az&&ei.markedSpans,em;if(eh){for(var el,ej=0;ej<eh.length;++ej){el=eh[ej];if(!el.marker.collapsed){continue}if((el.from==null||el.from<ek)&&(el.to==null||el.to>ek)&&(!em||em.width<el.marker.width)){em=el.marker}}}return em}function de(eh){return aX(eh,-1)}function cX(eh){return aX(eh,eh.text.length+1)}function t(ej,ei){var eh;while(eh=de(ei)){ei=dw(ej,eh.find().from.line)}return ei}function dM(el,ei){var eh=az&&ei.markedSpans;if(eh){for(var ek,ej=0;ej<eh.length;++ej){ek=eh[ej];if(!ek.marker.collapsed){continue}if(ek.from==null){return true}if(ek.marker.replacedWith){continue}if(ek.from==0&&ek.marker.inclusiveLeft&&H(el,ei,ek)){return true}}}}function H(en,ei,ek){if(ek.to==null){var eh=ek.marker.find().to,el=dw(en,eh.line);return H(en,el,ds(el.markedSpans,ek.marker))}if(ek.marker.inclusiveRight&&ek.to==ei.text.length){return true}for(var em,ej=0;ej<ei.markedSpans.length;++ej){em=ei.markedSpans[ej];if(em.marker.collapsed&&!em.marker.replacedWith&&em.from==ek.to&&(em.marker.inclusiveLeft||ek.marker.inclusiveRight)&&H(en,ei,em)){return true}}}function eb(eh){var ej=eh.markedSpans;if(!ej){return}for(var ei=0;ei<ej.length;++ei){ej[ei].marker.detachLine(eh)}eh.markedSpans=null}function b4(eh,ej){if(!ej){return}for(var ei=0;ei<ej.length;++ei){ej[ei].marker.attachLine(eh)}eh.markedSpans=ej}var cq=z.LineWidget=function(eh,ek,ei){if(ei){for(var ej in ei){if(ei.hasOwnProperty(ej)){this[ej]=ei[ej]}}}this.cm=eh;this.node=ek};aW(cq);function C(eh){return function(){var ej=!this.cm.curOp;if(ej){bS(this.cm)}try{var ei=eh.apply(this,arguments)}finally{if(ej){U(this.cm)}}return ei}}cq.prototype.clear=C(function(){var ei=this.line.widgets,ek=a9(this.line);if(ek==null||!ei){return}for(var ej=0;ej<ei.length;++ej){if(ei[ej]==this){ei.splice(ej--,1)}}if(!ei.length){this.line.widgets=null}var eh=a8(this.cm,this.line)<this.cm.doc.scrollTop;ea(this.line,Math.max(0,this.line.height-b0(this)));if(eh){bU(this.cm,0,-this.height)}O(this.cm,ek,ek+1)});cq.prototype.changed=C(function(){var eh=this.height;this.height=null;var ei=b0(this)-eh;if(!ei){return}ea(this.line,this.line.height+ei);var ej=a9(this.line);O(this.cm,ej,ej+1)});function b0(eh){if(eh.height!=null){return eh.height}if(!eh.node.parentNode||eh.node.parentNode.nodeType!=1){bd(eh.cm.display.measure,d6("div",[eh.node],null,"position: relative"))}return eh.height=eh.node.offsetHeight}function a3(eh,el,ej,ei){var ek=new cq(eh,ej,ei);if(ek.noHScroll){eh.display.alignWidgets=true}c1(eh,el,function(en){var eo=en.widgets||(en.widgets=[]);if(ek.insertAt==null){eo.push(ek)}else{eo.splice(Math.min(eo.length-1,Math.max(0,ek.insertAt)),0,ek)}ek.line=en;if(!dM(eh.doc,en)||ek.showIfHidden){var em=a8(eh,en)<eh.doc.scrollTop;ea(en,en.height+b0(ek));if(em){bU(eh,0,ek.height)}}return true});return ek}var d9=z.Line=function(ej,ei,eh){this.text=ej;b4(this,ei);this.height=eh?eh(this):1};aW(d9);function cT(ei,el,ej,eh){ei.text=el;if(ei.stateAfter){ei.stateAfter=null}if(ei.styles){ei.styles=null}if(ei.order!=null){ei.order=null}eb(ei);b4(ei,ej);var ek=eh?eh(ei):1;if(ek!=ei.height){ea(ei,ek)}}function aY(eh){eh.parent=null;eb(eh)}function r(eo,eq,ek,ei,el){var ej=ek.flattenSpans;if(ej==null){ej=eo.options.flattenSpans}var en=0,em=null;var ep=new dh(eq,eo.options.tabSize),eh;if(eq==""&&ek.blankLine){ek.blankLine(ei)}while(!ep.eol()){if(ep.pos>eo.options.maxHighlightLength){ej=false;ep.pos=Math.min(eq.length,ep.start+50000);eh=null}else{eh=ek.token(ep,ei)}if(!ej||em!=eh){if(en<ep.start){el(ep.start,em)}en=ep.start;em=eh}ep.start=ep.pos}if(en<ep.pos){el(ep.pos,em)}}function dR(ei,ej,en){var el=[ei.state.modeGen];r(ei,ej.text,ei.doc.mode,en,function(ep,eq){el.push(ep,eq)});for(var eo=0;eo<ei.state.overlays.length;++eo){var ek=ei.state.overlays[eo],em=1,eh=0;r(ei,ej.text,ek.mode,true,function(ep,er){var et=em;while(eh<ep){var eq=el[em];if(eq>ep){el.splice(em,1,ep,el[em+1],eq)}em+=2;eh=Math.min(ep,eq)}if(!er){return}if(ek.opaque){el.splice(et,em-et,ep,er);em=et+2}else{for(;et<em;et+=2){var es=el[et+1];el[et+1]=es?es+" "+er:er}}})}return el}function b8(eh,ei){if(!ei.styles||ei.styles[0]!=eh.state.modeGen){ei.styles=dR(eh,ei,ei.stateAfter=cp(eh,a9(ei)))}return ei.styles}function cn(eh,ei,ej){var el=eh.doc.mode;var ek=new dh(ei.text,eh.options.tabSize);if(ei.text==""&&el.blankLine){el.blankLine(ej)}while(!ek.eol()&&ek.pos<=eh.options.maxHighlightLength){el.token(ek,ej);ek.start=ek.pos}}var cB={};function j(eh){if(!eh){return null}return cB[eh]||(cB[eh]="cm-"+eh.replace(/ +/g," cm-"))}function cx(ep,et,eh,es){var eq,eu=et,em=true;while(eq=de(eu)){eu=dw(ep.doc,eq.find().from.line)}var en={pre:d6("pre"),col:0,pos:0,measure:null,measuredSomething:false,cm:ep,copyWidgets:es};if(eu.textClass){en.pre.className=eu.textClass}do{if(eu.text){em=false}en.measure=eu==et&&eh;en.pos=0;en.addToken=en.measure?e:p;if((ct||b2)&&ep.getOption("lineWrapping")){en.addToken=dT(en.addToken)}var el=aQ(eu,en,b8(ep,eu));if(eh&&eu==et&&!en.measuredSomething){eh[0]=en.pre.appendChild(aP(ep.display.measure));en.measuredSomething=true}if(el){eu=dw(ep.doc,el.to.line)}}while(el);if(eh&&!en.measuredSomething&&!eh[0]){eh[0]=en.pre.appendChild(em?d6("span","\u00a0"):aP(ep.display.measure))}if(!en.pre.firstChild&&!dM(ep.doc,et)){en.pre.appendChild(document.createTextNode("\u00a0"))}var ei;if(eh&&ct&&(ei=a(eu))){var ek=ei.length-1;if(ei[ek].from==ei[ek].to){--ek}var er=ei[ek],ej=ei[ek-1];if(er.from+1==er.to&&ej&&er.level<ej.level){var eo=eh[en.pos-1];if(eo){eo.parentNode.insertBefore(eo.measureRight=aP(ep.display.measure),eo.nextSibling)}}}af(ep,"renderLine",ep,et,en.pre);return en.pre}var b6=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;function p(el,et,eh,ek,eu,es){if(!et){return}if(!b6.test(et)){el.col+=et.length;var eo=document.createTextNode(et)}else{var eo=document.createDocumentFragment(),eq=0;while(true){b6.lastIndex=eq;var ei=b6.exec(et);var en=ei?ei.index-eq:et.length-eq;if(en){eo.appendChild(document.createTextNode(et.slice(eq,eq+en)));el.col+=en}if(!ei){break}eq+=en+1;if(ei[0]=="\t"){var em=el.cm.options.tabSize,ep=em-el.col%em;eo.appendChild(d6("span",bD(ep),"cm-tab"));el.col+=ep}else{var ej=d6("span","\u2022","cm-invalidchar");ej.title="\\u"+ei[0].charCodeAt(0).toString(16);eo.appendChild(ej);el.col+=1}}}if(eh||ek||eu||el.measure){var er=eh||"";if(ek){er+=ek}if(eu){er+=eu}var ej=d6("span",[eo],er);if(es){ej.title=es}return el.pre.appendChild(ej)}el.pre.appendChild(eo)}function e(eo,eq,ei,el,er){var en=eo.cm.options.lineWrapping;for(var em=0;em<eq.length;++em){var eh=eq.charAt(em),ej=em==0;if(eh>="\ud800"&&eh<"\udbff"&&em<eq.length-1){eh=eq.slice(em,em+2);++em}else{if(em&&en&&bp(eq,em)){eo.pre.appendChild(d6("wbr"))}}var ek=eo.measure[eo.pos];var ep=eo.measure[eo.pos]=p(eo,eh,ei,ej&&el,em==eq.length-1&&er);if(ek){ep.leftSide=ek.leftSide||ek}if(ct&&en&&eh==" "&&em&&!/\s/.test(eq.charAt(em-1))&&em<eq.length-1&&!/\s/.test(eq.charAt(em+1))){ep.style.whiteSpace="normal"}eo.pos+=eh.length}if(eq.length){eo.measuredSomething=true}}function dT(eh){function ei(ej){var ek=" ";for(var el=0;el<ej.length-2;++el){ek+=el%2?" ":"\u00a0"}ek+=" ";return ek}return function(ek,eo,el,ej,en,em){return eh(ek,eo.replace(/ {3,}/,ei),el,ej,en,em)}}function K(ei,el,eh,ek){var em=!ek&&eh.replacedWith;if(em){if(ei.copyWidgets){em=em.cloneNode(true)}ei.pre.appendChild(em);if(ei.measure){if(el){ei.measure[ei.pos]=em}else{var ej=aP(ei.cm.display.measure);if(eh.type=="bookmark"&&!eh.insertLeft){ei.measure[ei.pos]=ei.pre.appendChild(ej)}else{if(ei.measure[ei.pos]){return}else{ei.measure[ei.pos]=ei.pre.insertBefore(ej,em)}}}ei.measuredSomething=true}}ei.pos+=el}function aQ(eq,ew,ep){var em=eq.markedSpans,eo=eq.text,eu=0;if(!em){for(var ez=1;ez<ep.length;ez+=2){ew.addToken(ew,eo.slice(eu,eu=ep[ez]),j(ep[ez+1]))}return}var eA=eo.length,el=0,ez=1,es="",eB;var eD=0,eh,eC,et,eE,ej;for(;;){if(eD==el){eh=eC=et=eE="";ej=null;eD=Infinity;var en=[];for(var ex=0;ex<em.length;++ex){var ey=em[ex],ev=ey.marker;if(ey.from<=el&&(ey.to==null||ey.to>el)){if(ey.to!=null&&eD>ey.to){eD=ey.to;eC=""}if(ev.className){eh+=" "+ev.className}if(ev.startStyle&&ey.from==el){et+=" "+ev.startStyle}if(ev.endStyle&&ey.to==eD){eC+=" "+ev.endStyle}if(ev.title&&!eE){eE=ev.title}if(ev.collapsed&&(!ej||ej.marker.size<ev.size)){ej=ey}}else{if(ey.from>el&&eD>ey.from){eD=ey.from}}if(ev.type=="bookmark"&&ey.from==el&&ev.replacedWith){en.push(ev)}}if(ej&&(ej.from||0)==el){K(ew,(ej.to==null?eA:ej.to)-el,ej.marker,ej.from==null);if(ej.to==null){return ej.marker.find()}}if(!ej&&en.length){for(var ex=0;ex<en.length;++ex){K(ew,0,en[ex])}}}if(el>=eA){break}var er=Math.min(eA,eD);while(true){if(es){var ei=el+es.length;if(!ej){var ek=ei>er?es.slice(0,er-el):es;ew.addToken(ew,ek,eB?eB+eh:eh,et,el+ek.length==eD?eC:"",eE)}if(ei>=er){es=es.slice(er-el);el=er;break}el=ei;et=""}es=eo.slice(eu,eu=ep[ez++]);eB=j(ep[ez++])}}}function dP(ey,ep,el,et,en){function ek(ez){return el?el[ez]:null}function eo(ez,eB,eA){cT(ez,eB,eA,en);M(ez,"change",ez,ep)}var eu=ep.from,ei=ep.to,er=ep.text;var eq=dw(ey,eu.line),eh=dw(ey,ei.line);var ej=dU(er),ew=ek(er.length-1),es=ei.line-eu.line;if(eu.ch==0&&ei.ch==0&&ej==""){for(var ev=0,ex=er.length-1,em=[];ev<ex;++ev){em.push(new d9(er[ev],ek(ev),en))}eo(eh,eh.text,ew);if(es){ey.remove(eu.line,es)}if(em.length){ey.insert(eu.line,em)}}else{if(eq==eh){if(er.length==1){eo(eq,eq.text.slice(0,eu.ch)+ej+eq.text.slice(ei.ch),ew)}else{for(var em=[],ev=1,ex=er.length-1;ev<ex;++ev){em.push(new d9(er[ev],ek(ev),en))}em.push(new d9(ej+eq.text.slice(ei.ch),ew,en));eo(eq,eq.text.slice(0,eu.ch)+er[0],ek(0));ey.insert(eu.line+1,em)}}else{if(er.length==1){eo(eq,eq.text.slice(0,eu.ch)+er[0]+eh.text.slice(ei.ch),ek(0));ey.remove(eu.line+1,es)}else{eo(eq,eq.text.slice(0,eu.ch)+er[0],ek(0));eo(eh,ej+eh.text.slice(ei.ch),ew);for(var ev=1,ex=er.length-1,em=[];ev<ex;++ev){em.push(new d9(er[ev],ek(ev),en))}if(es>1){ey.remove(eu.line+1,es-1)}ey.insert(eu.line+1,em)}}}M(ey,"change",ey,ep);be(ey,et.anchor,et.head,null,true)}function dl(ei){this.lines=ei;this.parent=null;for(var ej=0,ek=ei.length,eh=0;ej<ek;++ej){ei[ej].parent=this;eh+=ei[ej].height}this.height=eh}dl.prototype={chunkSize:function(){return this.lines.length},removeInner:function(eh,el){for(var ej=eh,ek=eh+el;ej<ek;++ej){var ei=this.lines[ej];this.height-=ei.height;aY(ei);M(ei,"delete")}this.lines.splice(eh,el)},collapse:function(eh){eh.splice.apply(eh,[eh.length,0].concat(this.lines))},insertInner:function(ei,ej,eh){this.height+=eh;this.lines=this.lines.slice(0,ei).concat(ej).concat(this.lines.slice(ei));for(var ek=0,el=ej.length;ek<el;++ek){ej[ek].parent=this}},iterN:function(eh,ek,ej){for(var ei=eh+ek;eh<ei;++eh){if(ej(this.lines[eh])){return true}}}};function dN(ek){this.children=ek;var ej=0,eh=0;for(var ei=0,em=ek.length;ei<em;++ei){var el=ek[ei];ej+=el.chunkSize();eh+=el.height;el.parent=this}this.size=ej;this.height=eh;this.parent=null}dN.prototype={chunkSize:function(){return this.size},removeInner:function(eh,eo){this.size-=eo;for(var ej=0;ej<this.children.length;++ej){var en=this.children[ej],el=en.chunkSize();if(eh<el){var ek=Math.min(eo,el-eh),em=en.height;en.removeInner(eh,ek);this.height-=em-en.height;if(el==ek){this.children.splice(ej--,1);en.parent=null}if((eo-=ek)==0){break}eh=0}else{eh-=el}}if(this.size-eo<25){var ei=[];this.collapse(ei);this.children=[new dl(ei)];this.children[0].parent=this}},collapse:function(eh){for(var ei=0,ej=this.children.length;ei<ej;++ei){this.children[ei].collapse(eh)}},insertInner:function(ei,ep,eo){this.size+=ep.length;this.height+=eo;for(var ej=0,el=this.children.length;ej<el;++ej){var eh=this.children[ej],em=eh.chunkSize();if(ei<=em){eh.insertInner(ei,ep,eo);if(eh.lines&&eh.lines.length>50){while(eh.lines.length>50){var ek=eh.lines.splice(eh.lines.length-25,25);var en=new dl(ek);eh.height-=en.height;this.children.splice(ej+1,0,en);en.parent=this}this.maybeSpill()}break}ei-=em}},maybeSpill:function(){if(this.children.length<=10){return}var ek=this;do{var ei=ek.children.splice(ek.children.length-5,5);var ej=new dN(ei);if(!ek.parent){var el=new dN(ek.children);el.parent=ek;ek.children=[el,ej];ek=el}else{ek.size-=ej.size;ek.height-=ej.height;var eh=ce(ek.parent.children,ek);ek.parent.children.splice(eh+1,0,ej)}ej.parent=ek.parent}while(ek.children.length>10);ek.parent.maybeSpill()},iterN:function(eh,eo,en){for(var ei=0,el=this.children.length;ei<el;++ei){var em=this.children[ei],ek=em.chunkSize();if(eh<ek){var ej=Math.min(eo,ek-eh);if(em.iterN(eh,ej,en)){return true}if((eo-=ej)==0){break}eh=0}else{eh-=ek}}}};var bE=0;var Y=z.Doc=function(ej,ei,eh){if(!(this instanceof Y)){return new Y(ej,ei,eh)}if(eh==null){eh=0}dN.call(this,[new dl([new d9("",null)])]);this.first=eh;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.history=aa();this.cleanGeneration=1;this.frontier=eh;var ek=I(eh,0);this.sel={from:ek,to:ek,head:ek,anchor:ek,shift:false,extend:false,goalColumn:null};this.id=++bE;this.modeOption=ei;if(typeof ej=="string"){ej=aw(ej)}dP(this,{from:ek,to:ek,text:ej},null,{head:ek,anchor:ek})};Y.prototype=bx(dN.prototype,{constructor:Y,iter:function(ej,ei,eh){if(eh){this.iterN(ej-this.first,ei-ej,eh)}else{this.iterN(this.first,this.first+this.size,ej)}},insert:function(ei,ej){var eh=0;for(var ek=0,el=ej.length;ek<el;++ek){eh+=ej[ek].height}this.insertInner(ei-this.first,ej,eh)},remove:function(eh,ei){this.removeInner(eh-this.first,ei)},getValue:function(ei){var eh=ay(this,this.first,this.first+this.size);if(ei===false){return eh}return eh.join(ei||"\n")},setValue:function(ei){var ej=I(this.first,0),eh=this.first+this.size-1;aH(this,{from:ej,to:I(eh,dw(this,eh).text.length),text:aw(ei),origin:"setValue"},{head:ej,anchor:ej},true)},replaceRange:function(ei,ek,ej,eh){ek=dW(this,ek);ej=ej?dW(this,ej):ek;ax(this,ei,ek,ej,eh)},getRange:function(ek,ej,ei){var eh=d7(this,dW(this,ek),dW(this,ej));if(ei===false){return eh}return eh.join(ei||"\n")},getLine:function(ei){var eh=this.getLineHandle(ei);return eh&&eh.text},setLine:function(eh,ei){if(bo(this,eh)){ax(this,ei,I(eh,0),dW(this,I(eh)))}},removeLine:function(eh){if(eh){ax(this,"",dW(this,I(eh-1)),dW(this,I(eh)))}else{ax(this,"",I(0,0),dW(this,I(1,0)))}},getLineHandle:function(eh){if(bo(this,eh)){return dw(this,eh)}},getLineNumber:function(eh){return a9(eh)},getLineHandleVisualStart:function(eh){if(typeof eh=="number"){eh=dw(this,eh)}return t(this,eh)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(eh){return dW(this,eh)},getCursor:function(ej){var eh=this.sel,ei;if(ej==null||ej=="head"){ei=eh.head}else{if(ej=="anchor"){ei=eh.anchor}else{if(ej=="end"||ej===false){ei=eh.to}else{ei=eh.from}}}return bw(ei)},somethingSelected:function(){return !dV(this.sel.head,this.sel.anchor)},setCursor:dQ(function(eh,ei,ek){var ej=dW(this,typeof eh=="number"?I(eh,ei||0):eh);if(ek){d3(this,ej)}else{be(this,ej,ej)}}),setSelection:dQ(function(ei,ej,eh){be(this,dW(this,ei),dW(this,ej||ei),eh)}),extendSelection:dQ(function(ej,ei,eh){d3(this,dW(this,ej),ei&&dW(this,ei),eh)}),getSelection:function(eh){return this.getRange(this.sel.from,this.sel.to,eh)},replaceSelection:function(ei,ej,eh){aH(this,{from:this.sel.from,to:this.sel.to,text:aw(ei),origin:eh},ej||"around")},undo:dQ(function(){bn(this,"undo")}),redo:dQ(function(){bn(this,"redo")}),setExtending:function(eh){this.sel.extend=eh},historySize:function(){var eh=this.history;return{undo:eh.done.length,redo:eh.undone.length}},clearHistory:function(){this.history=aa(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration()},changeGeneration:function(){this.history.lastOp=this.history.lastOrigin=null;return this.history.generation},isClean:function(eh){return this.history.generation==(eh||this.cleanGeneration)},getHistory:function(){return{done:ba(this.history.done),undone:ba(this.history.undone)}},setHistory:function(ei){var eh=this.history=aa(this.history.maxGeneration);eh.done=ei.done.slice(0);eh.undone=ei.undone.slice(0)},markText:function(ej,ei,eh){return c9(this,dW(this,ej),dW(this,ei),eh,"range")},setBookmark:function(ej,eh){var ei={replacedWith:eh&&(eh.nodeType==null?eh.widget:eh),insertLeft:eh&&eh.insertLeft};ej=dW(this,ej);return c9(this,ej,ej,ei,"bookmark")},findMarksAt:function(el){el=dW(this,el);var ek=[],ei=dw(this,el.line).markedSpans;if(ei){for(var eh=0;eh<ei.length;++eh){var ej=ei[eh];if((ej.from==null||ej.from<=el.ch)&&(ej.to==null||ej.to>=el.ch)){ek.push(ej.marker.parent||ej.marker)}}}return ek},getAllMarks:function(){var eh=[];this.iter(function(ej){var ei=ej.markedSpans;if(ei){for(var ek=0;ek<ei.length;++ek){if(ei[ek].from!=null){eh.push(ei[ek].marker)}}}});return eh},posFromIndex:function(ei){var eh,ej=this.first;this.iter(function(ek){var el=ek.text.length+1;if(el>ei){eh=ei;return true}ei-=el;++ej});return dW(this,I(ej,eh))},indexFromPos:function(ei){ei=dW(this,ei);var eh=ei.ch;if(ei.line<this.first||ei.ch<0){return 0}this.iter(this.first,ei.line,function(ej){eh+=ej.text.length+1});return eh},copy:function(eh){var ei=new Y(ay(this,this.first,this.first+this.size),this.modeOption,this.first);ei.scrollTop=this.scrollTop;ei.scrollLeft=this.scrollLeft;ei.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:false,goalColumn:this.sel.goalColumn};if(eh){ei.history.undoDepth=this.history.undoDepth;ei.setHistory(this.getHistory())}return ei},linkedDoc:function(eh){if(!eh){eh={}}var ek=this.first,ej=this.first+this.size;if(eh.from!=null&&eh.from>ek){ek=eh.from}if(eh.to!=null&&eh.to<ej){ej=eh.to}var ei=new Y(ay(this,ek,ej),eh.mode||this.modeOption,ek);if(eh.sharedHist){ei.history=this.history}(this.linked||(this.linked=[])).push({doc:ei,sharedHist:eh.sharedHist});ei.linked=[{doc:this,isParent:true,sharedHist:eh.sharedHist}];return ei},unlinkDoc:function(ei){if(ei instanceof z){ei=ei.doc}if(this.linked){for(var ej=0;ej<this.linked.length;++ej){var ek=this.linked[ej];if(ek.doc!=ei){continue}this.linked.splice(ej,1);ei.unlinkDoc(this);break}}if(ei.history==this.history){var eh=[ei.id];cG(ei,function(el){eh.push(el.id)},true);ei.history=aa();ei.history.done=ba(this.history.done,eh);ei.history.undone=ba(this.history.undone,eh)}},iterLinkedDocs:function(eh){cG(this,eh)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});Y.prototype.eachLine=Y.prototype.iter;var d="iter insert remove copy getEditor".split(" ");for(var a6 in Y.prototype){if(Y.prototype.hasOwnProperty(a6)&&ce(d,a6)<0){z.prototype[a6]=(function(eh){return function(){return eh.apply(this.doc,arguments)}})(Y.prototype[a6])}}aW(Y);function cG(ek,ej,ei){function eh(eq,eo,em){if(eq.linked){for(var en=0;en<eq.linked.length;++en){var el=eq.linked[en];if(el.doc==eo){continue}var ep=em&&el.sharedHist;if(ei&&!ep){continue}ej(el.doc,ep);eh(el.doc,eq,ep)}}}eh(ek,null,true)}function cJ(eh,ei){if(ei.cm){throw new Error("This document is already in use.")}eh.doc=ei;ei.cm=eh;J(eh);aS(eh);if(!eh.options.lineWrapping){d8(eh)}eh.options.mode=ei.modeOption;O(eh)}function dw(eh,el){el-=eh.first;while(!eh.lines){for(var ei=0;;++ei){var ek=eh.children[ei],ej=ek.chunkSize();if(el<ej){eh=ek;break}el-=ej}}return eh.lines[el]}function d7(ej,el,eh){var ei=[],ek=el.line;ej.iter(el.line,eh.line+1,function(em){var en=em.text;if(ek==eh.line){en=en.slice(0,eh.ch)}if(ek==el.line){en=en.slice(el.ch)}ei.push(en);++ek});return ei}function ay(ei,ek,ej){var eh=[];ei.iter(ek,ej,function(el){eh.push(el.text)});return eh}function ea(ei,eh){var ej=eh-ei.height;for(var ek=ei;ek;ek=ek.parent){ek.height+=ej}}function a9(eh){if(eh.parent==null){return null}var el=eh.parent,ek=ce(el.lines,eh);for(var ei=el.parent;ei;el=ei,ei=ei.parent){for(var ej=0;;++ej){if(ei.children[ej]==el){break}ek+=ei.children[ej].chunkSize()}}return ek+el.first}function a2(en,el){var ej=en.first;outer:do{for(var ek=0,em=en.children.length;ek<em;++ek){var ei=en.children[ek],eh=ei.height;if(el<eh){en=ei;continue outer}el-=eh;ej+=ei.chunkSize()}return ej}while(!en.lines);for(var ek=0,em=en.lines.length;ek<em;++ek){var ep=en.lines[ek],eo=ep.height;if(el<eo){break}el-=eo}return ej+ek}function a8(eh,ek){ek=t(eh.doc,ek);var em=0,ej=ek.parent;for(var el=0;el<ej.lines.length;++el){var ei=ej.lines[el];if(ei==ek){break}else{em+=ei.height}}for(var en=ej.parent;en;ej=en,en=ej.parent){for(var el=0;el<en.children.length;++el){var eo=en.children[el];if(eo==ej){break}else{em+=eo.height}}}return em}function a(ei){var eh=ei.order;if(eh==null){eh=ei.order=aI(ei.text)}return eh}function aa(eh){return{done:[],undone:[],undoDepth:Infinity,lastTime:0,lastOp:null,lastOrigin:null,generation:eh||1,maxGeneration:eh||1}}function bh(ei,em,el,ek){var eh=em["spans_"+ei.id],ej=0;ei.iter(Math.max(ei.first,el),Math.min(ei.first+ei.size,ek),function(en){if(en.markedSpans){(eh||(eh=em["spans_"+ei.id]={}))[ej]=en.markedSpans}++ej})}function cl(eh,ek){var ej={line:ek.from.line,ch:ek.from.ch};var ei={from:ej,to:bZ(ek),text:d7(eh,ek.from,ek.to)};bh(eh,ei,ek.from.line,ek.to.line+1);cG(eh,function(el){bh(el,ei,ek.from.line,ek.to.line+1)},true);return ei}function da(em,eo,el,eh){var ek=em.history;ek.undone.length=0;var ej=+new Date,en=dU(ek.done);if(en&&(ek.lastOp==eh||ek.lastOrigin==eo.origin&&eo.origin&&((eo.origin.charAt(0)=="+"&&em.cm&&ek.lastTime>ej-em.cm.options.historyEventDelay)||eo.origin.charAt(0)=="*"))){var ei=dU(en.changes);if(dV(eo.from,eo.to)&&dV(eo.from,ei.to)){ei.to=bZ(eo)}else{en.changes.push(cl(em,eo))}en.anchorAfter=el.anchor;en.headAfter=el.head}else{en={changes:[cl(em,eo)],generation:ek.generation,anchorBefore:em.sel.anchor,headBefore:em.sel.head,anchorAfter:el.anchor,headAfter:el.head};ek.done.push(en);ek.generation=++ek.maxGeneration;while(ek.done.length>ek.undoDepth){ek.done.shift()}}ek.lastTime=ej;ek.lastOp=eh;ek.lastOrigin=eo.origin}function aL(ej){if(!ej){return null}for(var ei=0,eh;ei<ej.length;++ei){if(ej[ei].marker.explicitlyCleared){if(!eh){eh=ej.slice(0,ei)}}else{if(eh){eh.push(ej[ei])}}}return !eh?ej:eh.length?eh:null}function bm(ek,el){var ej=el["spans_"+ek.id];if(!ej){return null}for(var ei=0,eh=[];ei<el.text.length;++ei){eh.push(aL(ej[ei]))}return eh}function ba(er,ek){for(var en=0,ei=[];en<er.length;++en){var ej=er[en],ep=ej.changes,eq=[];ei.push({changes:eq,anchorBefore:ej.anchorBefore,headBefore:ej.headBefore,anchorAfter:ej.anchorAfter,headAfter:ej.headAfter});for(var em=0;em<ep.length;++em){var eo=ep[em],el;eq.push({from:eo.from,to:eo.to,text:eo.text});if(ek){for(var eh in eo){if(el=eh.match(/^spans_(\d+)$/)){if(ce(ek,Number(el[1]))>-1){dU(eq)[eh]=eo[eh];delete eo[eh]}}}}}}return ei}function dj(ek,ej,ei,eh){if(ei<ek.line){ek.line+=eh}else{if(ej<ek.line){ek.line=ej;ek.ch=0}}}function dz(ek,em,en,eo){for(var ej=0;ej<ek.length;++ej){var eh=ek[ej],el=true;for(var ei=0;ei<eh.changes.length;++ei){var ep=eh.changes[ei];if(!eh.copied){ep.from=bw(ep.from);ep.to=bw(ep.to)}if(en<ep.from.line){ep.from.line+=eo;ep.to.line+=eo}else{if(em<=ep.to.line){el=false;break}}}if(!eh.copied){eh.anchorBefore=bw(eh.anchorBefore);eh.headBefore=bw(eh.headBefore);eh.anchorAfter=bw(eh.anchorAfter);eh.readAfter=bw(eh.headAfter);eh.copied=true}if(!el){ek.splice(0,ej+1);ej=0}else{dj(eh.anchorBefore);dj(eh.headBefore);dj(eh.anchorAfter);dj(eh.headAfter)}}}function cs(ei,el){var ek=el.from.line,ej=el.to.line,eh=el.text.length-(ej-ek)-1;dz(ei.done,ek,ej,eh);dz(ei.undone,ek,ej,eh)}function dg(){cU(this)}function W(eh){if(!eh.stop){eh.stop=dg}return eh}function bP(eh){if(eh.preventDefault){eh.preventDefault()}else{eh.returnValue=false}}function ci(eh){if(eh.stopPropagation){eh.stopPropagation()}else{eh.cancelBubble=true}}function a7(eh){return eh.defaultPrevented!=null?eh.defaultPrevented:eh.returnValue==false}function cU(eh){bP(eh);ci(eh)}z.e_stop=cU;z.e_preventDefault=bP;z.e_stopPropagation=ci;function B(eh){return eh.target||eh.srcElement}function dY(ei){var eh=ei.which;if(eh==null){if(ei.button&1){eh=1}else{if(ei.button&2){eh=3}else{if(ei.button&4){eh=2}}}}if(bl&&ei.ctrlKey&&eh==1){eh=3}return eh}function bg(ek,ei,ej){if(ek.addEventListener){ek.addEventListener(ei,ej,false)}else{if(ek.attachEvent){ek.attachEvent("on"+ei,ej)}else{var el=ek._handlers||(ek._handlers={});var eh=el[ei]||(el[ei]=[]);eh.push(ej)}}}function cM(el,ej,ek){if(el.removeEventListener){el.removeEventListener(ej,ek,false)}else{if(el.detachEvent){el.detachEvent("on"+ej,ek)}else{var eh=el._handlers&&el._handlers[ej];if(!eh){return}for(var ei=0;ei<eh.length;++ei){if(eh[ei]==ek){eh.splice(ei,1);break}}}}}function af(el,ek){var eh=el._handlers&&el._handlers[ek];if(!eh){return}var ei=Array.prototype.slice.call(arguments,2);for(var ej=0;ej<eh.length;++ej){eh[ej].apply(null,ei)}}var aO,bF=0;function M(em,el){var eh=em._handlers&&em._handlers[el];if(!eh){return}var ej=Array.prototype.slice.call(arguments,2);if(!aO){++bF;aO=[];setTimeout(c2,0)}function ei(en){return function(){en.apply(null,ej)}}for(var ek=0;ek<eh.length;++ek){aO.push(ei(eh[ek]))}}function ap(eh,ej,ei){af(eh,ei||ej.type,eh,ej);return a7(ej)||ej.codemirrorIgnore}function c2(){--bF;var eh=aO;aO=null;for(var ei=0;ei<eh.length;++ei){eh[ei]()}}function dC(ej,ei){var eh=ej._handlers&&ej._handlers[ei];return eh&&eh.length>0}z.on=bg;z.off=cM;z.signal=af;function aW(eh){eh.prototype.on=function(ei,ej){bg(this,ei,ej)};eh.prototype.off=function(ei,ej){cM(this,ei,ej)}}var aK=30;var bq=z.Pass={toString:function(){return"CodeMirror.Pass"}};function eg(){this.id=null}eg.prototype={set:function(eh,ei){clearTimeout(this.id);this.id=setTimeout(ei,eh)}};function bc(ej,eh,el,em,ei){if(eh==null){eh=ej.search(/[^\s\u00a0]/);if(eh==-1){eh=ej.length}}for(var ek=em||0,en=ei||0;ek<eh;++ek){if(ej.charAt(ek)=="\t"){en+=el-(en%el)}else{++en}}return en}z.countColumn=bc;var av=[""];function bD(eh){while(av.length<=eh){av.push(dU(av)+" ")}return av[eh]}function dU(eh){return eh[eh.length-1]}function cv(ei){if(dm){ei.selectionStart=0;ei.selectionEnd=ei.value.length}else{try{ei.select()}catch(eh){}}}function ce(ek,eh){if(ek.indexOf){return ek.indexOf(eh)}for(var ei=0,ej=ek.length;ei<ej;++ei){if(ek[ei]==eh){return ei}}return -1}function bx(ek,ei){function eh(){}eh.prototype=ek;var ej=new eh();if(ei){ak(ei,ej)}return ej}function ak(ei,eh){if(!eh){eh={}}for(var ej in ei){if(ei.hasOwnProperty(ej)){eh[ej]=ei[ej]}}return eh}function S(ej){for(var eh=[],ei=0;ei<ej;++ei){eh.push(undefined)}return eh}function bI(ei){var eh=Array.prototype.slice.call(arguments,1);return function(){return ei.apply(null,eh)}}var aE=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function bL(eh){return/\w/.test(eh)||eh>"\x80"&&(eh.toUpperCase()!=eh.toLowerCase()||aE.test(eh))}function di(eh){for(var ei in eh){if(eh.hasOwnProperty(ei)&&eh[ei]){return false}}return true}var dI=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;function d6(eh,el,ek,ej){var em=document.createElement(eh);if(ek){em.className=ek}if(ej){em.style.cssText=ej}if(typeof el=="string"){n(em,el)}else{if(el){for(var ei=0;ei<el.length;++ei){em.appendChild(el[ei])}}}return em}function cD(ei){for(var eh=ei.childNodes.length;eh>0;--eh){ei.removeChild(ei.firstChild)}return ei}function bd(eh,ei){return cD(eh).appendChild(ei)}function n(eh,ei){if(by){eh.innerHTML="";eh.appendChild(document.createTextNode(ei))}else{eh.textContent=ei}}function al(eh){return eh.getBoundingClientRect()}z.replaceGetRect=function(eh){al=eh};var dd=function(){if(by){return false}var eh=d6("div");return"draggable" in eh||"dragDrop" in eh}();function bp(){return false}if(bC){bp=function(ei,eh){return ei.charCodeAt(eh-1)==36&&ei.charCodeAt(eh)==39}}else{if(ae&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)){bp=function(ei,eh){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(ei.slice(eh-1,eh+1))}}else{if(b2&&!/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent)){bp=function(ei,eh){if(eh>1&&ei.charCodeAt(eh-1)==45){if(/\w/.test(ei.charAt(eh-2))&&/[^\-?\.]/.test(ei.charAt(eh))){return true}if(eh>2&&/[\d\.,]/.test(ei.charAt(eh-2))&&/[\d\.,]/.test(ei.charAt(eh))){return false}}return/[~!#%&*)=+}\]|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|[\w~`@#$%\^&*(_=+{[><]/.test(ei.slice(eh-1,eh+1))}}}}var cY;function i(eh){if(cY!=null){return cY}var ei=d6("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");bd(eh,ei);if(ei.offsetWidth){cY=ei.offsetHeight-ei.clientHeight}return cY||0}var dX;function aP(eh){if(dX==null){var ei=d6("span","\u200b");bd(eh,d6("span",[ei,document.createTextNode("x")]));if(eh.firstChild.offsetHeight!=0){dX=ei.offsetWidth<=1&&ei.offsetHeight>2&&!bz}}if(dX){return d6("span","\u200b")}else{return d6("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}}var aw="\n\nb".split(/\n/).length!=3?function(em){var en=0,eh=[],el=em.length;while(en<=el){var ek=em.indexOf("\n",en);if(ek==-1){ek=em.length}var ej=em.slice(en,em.charAt(ek-1)=="\r"?ek-1:ek);var ei=ej.indexOf("\r");if(ei!=-1){eh.push(ej.slice(0,ei));en+=ei+1}else{eh.push(ej);en=ek+1}}return eh}:function(eh){return eh.split(/\r\n?|\n/)};z.splitLines=aw;var aT=window.getSelection?function(ei){try{return ei.selectionStart!=ei.selectionEnd}catch(eh){return false}}:function(ej){try{var eh=ej.ownerDocument.selection.createRange()}catch(ei){}if(!eh||eh.parentElement()!=ej){return false}return eh.compareEndPoints("StartToEnd",eh)!=0};var b9=(function(){var eh=d6("div");if("oncopy" in eh){return true}eh.setAttribute("oncopy","return;");return typeof eh.oncopy=="function"})();var dy={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};z.keyNames=dy;(function(){for(var eh=0;eh<10;eh++){dy[eh+48]=String(eh)}for(var eh=65;eh<=90;eh++){dy[eh]=String.fromCharCode(eh)}for(var eh=1;eh<=12;eh++){dy[eh+111]=dy[eh+63235]="F"+eh}})();function cE(eh,en,em,el){if(!eh){return el(en,em,"ltr")}var ek=false;for(var ej=0;ej<eh.length;++ej){var ei=eh[ej];if(ei.from<em&&ei.to>en||en==em&&ei.to==en){el(Math.max(ei.from,en),Math.min(ei.to,em),ei.level==1?"rtl":"ltr");ek=true}}if(!ek){el(en,em,"ltr")}}function co(eh){return eh.level%2?eh.to:eh.from}function ed(eh){return eh.level%2?eh.from:eh.to}function bO(ei){var eh=a(ei);return eh?co(eh[0]):0}function bY(ei){var eh=a(ei);if(!eh){return ei.text.length}return ed(dU(eh))}function aU(ei,el){var ej=dw(ei.doc,el);var em=t(ei.doc,ej);if(em!=ej){el=a9(em)}var eh=a(em);var ek=!eh?0:eh[0].level%2?bY(em):bO(em);return I(el,ek)}function cy(ej,em){var ei,ek;while(ei=cX(ek=dw(ej.doc,em))){em=ei.find().to.line}var eh=a(ek);var el=!eh?ek.text.length:eh[0].level%2?bO(ek):bY(ek);return I(em,el)}function V(ei,ej,eh){var ek=ei[0].level;if(ej==ek){return true}if(eh==ek){return false}return ej<eh}var dn;function ah(eh,el){for(var ei=0,ej;ei<eh.length;++ei){var ek=eh[ei];if(ek.from<el&&ek.to>el){dn=null;return ei}if(ek.from==el||ek.to==el){if(ej==null){ej=ei}else{if(V(eh,ek.level,eh[ej].level)){dn=ej;return ei}else{dn=ei;return ej}}}}dn=null;return ej}function dv(eh,ek,ei,ej){if(!ej){return ek+ei}do{ek+=ei}while(ek>0&&dI.test(eh.text.charAt(ek)));return ek}function q(eh,eo,ej,ek){var el=a(eh);if(!el){return P(eh,eo,ej,ek)}var en=ah(el,eo),ei=el[en];var em=dv(eh,eo,ei.level%2?-ej:ej,ek);for(;;){if(em>ei.from&&em<ei.to){return em}if(em==ei.from||em==ei.to){if(ah(el,em)==en){return em}ei=el[en+=ej];return(ej>0)==ei.level%2?ei.to:ei.from}else{ei=el[en+=ej];if(!ei){return null}if((ej>0)==ei.level%2){em=dv(eh,ei.to,-1,ek)}else{em=dv(eh,ei.from,1,ek)}}}}function P(eh,el,ei,ej){var ek=el+ei;if(ej){while(ek>0&&dI.test(eh.text.charAt(ek))){ek+=ei}}return ek<0||ek>eh.text.length?null:ek}var aI=(function(){var en="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL";var el="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr";function ek(eq){if(eq<=255){return en.charAt(eq)}else{if(1424<=eq&&eq<=1524){return"R"}else{if(1536<=eq&&eq<=1791){return el.charAt(eq-1536)}else{if(1792<=eq&&eq<=2220){return"r"}else{return"L"}}}}}var eh=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var ep=/[stwN]/,ej=/[LRr]/,ei=/[Lb1n]/,em=/[1n]/;var eo="L";return function(eA){if(!eh.test(eA)){return false}var eG=eA.length,ew=[];for(var eF=0,es;eF<eG;++eF){ew.push(es=ek(eA.charCodeAt(eF)))}for(var eF=0,ez=eo;eF<eG;++eF){var es=ew[eF];if(es=="m"){ew[eF]=ez}else{ez=es}}for(var eF=0,eq=eo;eF<eG;++eF){var es=ew[eF];if(es=="1"&&eq=="r"){ew[eF]="n"}else{if(ej.test(es)){eq=es;if(es=="r"){ew[eF]="R"}}}}for(var eF=1,ez=ew[0];eF<eG-1;++eF){var es=ew[eF];if(es=="+"&&ez=="1"&&ew[eF+1]=="1"){ew[eF]="1"}else{if(es==","&&ez==ew[eF+1]&&(ez=="1"||ez=="n")){ew[eF]=ez}}ez=es}for(var eF=0;eF<eG;++eF){var es=ew[eF];if(es==","){ew[eF]="N"}else{if(es=="%"){for(var et=eF+1;et<eG&&ew[et]=="%";++et){}var eH=(eF&&ew[eF-1]=="!")||(et<eG-1&&ew[et]=="1")?"1":"N";for(var eD=eF;eD<et;++eD){ew[eD]=eH}eF=et-1}}}for(var eF=0,eq=eo;eF<eG;++eF){var es=ew[eF];if(eq=="L"&&es=="1"){ew[eF]="L"}else{if(ej.test(es)){eq=es}}}for(var eF=0;eF<eG;++eF){if(ep.test(ew[eF])){for(var et=eF+1;et<eG&&ep.test(ew[et]);++et){}var ex=(eF?ew[eF-1]:eo)=="L";var er=(et<eG-1?ew[et]:eo)=="L";var eH=ex||er?"L":"R";for(var eD=eF;eD<et;++eD){ew[eD]=eH}eF=et-1}}var eE=[],eB;for(var eF=0;eF<eG;){if(ei.test(ew[eF])){var eu=eF;for(++eF;eF<eG&&ei.test(ew[eF]);++eF){}eE.push({from:eu,to:eF,level:0})}else{var ev=eF,ey=eE.length;for(++eF;eF<eG&&ew[eF]!="L";++eF){}for(var eD=ev;eD<eF;){if(em.test(ew[eD])){if(ev<eD){eE.splice(ey,0,{from:ev,to:eD,level:1})}var eC=eD;for(++eD;eD<eF&&em.test(ew[eD]);++eD){}eE.splice(ey,0,{from:eC,to:eD,level:2});ev=eD}else{++eD}}if(ev<eF){eE.splice(ey,0,{from:ev,to:eF,level:1})}}}if(eE[0].level==1&&(eB=eA.match(/^\s+/))){eE[0].from=eB[0].length;eE.unshift({from:0,to:eB[0].length,level:0})}if(dU(eE).level==1&&(eB=eA.match(/\s+$/))){dU(eE).to-=eB[0].length;eE.push({from:eG-eB[0].length,to:eG,level:0})}if(eE[0].level!=dU(eE).level){eE.push({from:eG,to:eG,level:eE[0].level})}return eE}})();z.version="3.15.1";return z})();