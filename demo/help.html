<!doctype html>
<html>
  <head>
    <title>CodeMirror: Help Demo</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../doc/docs.css">
    <link rel="stylesheet" href="../addon/fold/foldgutter.css">
    <link rel="stylesheet" href="../addon/dialog/dialog.css">
    <link rel="stylesheet" href="../lib/codemirror.css">
    <script src="../lib/codemirror.js"></script>
    <script src="../addon/edit/closetag.js"></script>
    <script src="../addon/fold/xml-fold.js"></script>
    <script src="../addon/fold/foldgutter.js"></script>
    <script src="../addon/fold/foldcode.js"></script>
    <script src="../mode/xml/xml.js"></script>
    <script src="../mode/javascript/javascript.js"></script>
    <script src="../mode/css/css.js"></script>
    <script src="../mode/htmlmixed/htmlmixed.js"></script>
    <script src="../addon/help/help.js"></script>
    <script src="../keymap/vim.js"></script>
    <script src="../keymap/emacs.js"></script>
    <script src="../keymap/sublime.js"></script>
    <script src="../addon/search/search.js"></script>
    <script src="../addon/search/searchcursor.js"></script>
    <script src="../addon/dialog/dialog.js"></script>
    <style type="text/css">
      .CodeMirror {border-top: 1px solid #888; border-bottom: 1px solid #888; /*height: auto; viewportMargin: Infinity*/}
    </style>
  </head>
  <body>
    <div id="nav">
      <a href="http://codemirror.net"><h1>CodeMirror</h1><img id="logo" src="../doc/logo.png"></a>
      <ul>
        <li><a href="../index.html">Home</a>
        </li><li><a href="../doc/manual.html">Manual</a>
        </li><li><a href="https://github.com/codemirror/codemirror">Code</a>
        </li></ul>
      <ul>
        <li><a class="active" href="../doc/manual.html#addon_help">Help</a>
        </li></ul>
    </div>
    <article>
      <h2>Help Demo</h2>
      <h3>Pick keyMap</h3>
      <div>
        <input type="radio" name="keyMap" class="keyMap" id="default">default</input>
        <input type="radio" name="keyMap" class="keyMap" id="emacs">Emacs</input>
        <input type="radio" name="keyMap" class="keyMap" id="sublime">Sublime</input>
        <input type="radio" name="keyMap" class="keyMap" id="vim">Vim</input>
      </div>
      <h3>Get Help in Buffers</h3>
      <div>
        <button class="help" id="allHelp">All</button>
        <button class="help" id="commandsHelp">Commands</button>
        <button class="help" id="defaultsHelp">Defaults</button>
        <button class="help" id="keyMapHelp">KeyMap</button>
        <button class="help" id="optionsHelp">Options</button>
      </div>
      <form><textarea id="code" name="code"></textarea></form>
      <script type="text/javascript">
        window.onload = function(event) {
          document.getElementById("code").value = "<html>\n  " + document.documentElement.innerHTML + "\n</html>";
          var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
            extraKeys: {
              'Ctrl-F1': 'allHelp'
            },
            foldGutter: true,
            gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"],
            lineNumbers: true,
            mode: 'htmlmixed'
          });
          Array.prototype.forEach.call(document.querySelectorAll('input.keyMap'),
                                       function(button) {
            button.onclick = function(event) {
              editor.setOption('keyMap', event.target.id);
            }
          });
          Array.prototype.forEach.call(document.querySelectorAll('button.help'),
                                       function(button) {
            button.onclick = function(event) {
              editor.execCommand(event.target.id);
            }
          });
        };
      </script>
    </article>
  </body>
</html>
